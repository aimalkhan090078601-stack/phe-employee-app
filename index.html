<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="manifest" href="manifest.json">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#1e3a8a">
    <meta name="description" content="PHE Employee Management System with Missing Data Report, salary tracking, and CNIC photo uploads for Public Health Engineering Department. Admin: Aimal Khan Jaffer.">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>PHE Employee Pro - Aimal Khan Jaffer</title>
    <link rel="manifest" href="manifest.json">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        :root { --primary: #1e3a8a; --secondary: #3b82f6; --accent: #f59e0b; --success: #10b981; --danger: #ef4444; --warning: #f59e0b; --dark: #1f2937; }
        body { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; }
        .login-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; z-index: 9999; padding: 20px; }
        .login-box { background: white; padding: 40px; border-radius: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); width: 100%; max-width: 400px; text-align: center; }
        .app-logo { width: 100px; height: 100px; background: linear-gradient(135deg, var(--primary), var(--secondary)); border-radius: 50%; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center; font-size: 40px; color: white; cursor: pointer; overflow: hidden; }
        .app-logo img { width: 100%; height: 100%; object-fit: cover; }
        .login-box h1 { color: var(--primary); margin-bottom: 10px; font-size: 1.5rem; }
        .creds-box { background: #f0f9ff; border: 2px solid #bae6fd; border-radius: 10px; padding: 15px; margin-top: 20px; font-size: 0.85rem; }
        .creds-box strong { color: var(--primary); display: block; margin-bottom: 5px; }
        .form-group { margin-bottom: 20px; text-align: left; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 600; color: #374151; }
        .form-group input, .form-group select { width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 16px; }
        .btn { width: 100%; padding: 14px; background: linear-gradient(135deg, var(--primary), var(--secondary)); color: white; border: none; border-radius: 10px; font-size: 16px; font-weight: 600; cursor: pointer; }
        .btn-secondary { background: #6b7280; }
        .btn-success { background: var(--success); }
        .btn-danger { background: var(--danger); }
        .btn-warning { background: var(--warning); }
        .error-msg { color: var(--danger); margin-top: 10px; display: none; }
        .dashboard { display: none; min-height: 100vh; }
        .sidebar { position: fixed; left: 0; top: 0; width: 280px; height: 100vh; background: var(--dark); color: white; z-index: 100; transform: translateX(-100%); transition: transform 0.3s; overflow-y: auto; }
        .sidebar.active { transform: translateX(0); }
        .sidebar-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 99; }
        .admin-info { text-align: center; padding: 30px 20px; border-bottom: 1px solid #374151; }
        .admin-avatar { width: 90px; height: 90px; background: linear-gradient(135deg, var(--accent), #f97316); border-radius: 50%; margin: 0 auto 15px; display: flex; align-items: center; justify-content: center; font-size: 36px; color: white; cursor: pointer; overflow: hidden; }
        .admin-avatar img { width: 100%; height: 100%; object-fit: cover; }
        .nav-menu { padding: 20px; }
        .nav-link { display: flex; align-items: center; padding: 15px; color: #d1d5db; text-decoration: none; border-radius: 10px; cursor: pointer; margin-bottom: 10px; }
        .nav-link.active { background: var(--primary); color: white; }
        .nav-link span { margin-right: 12px; font-size: 1.3rem; }
        .main-content { margin-left: 0; padding: 20px; padding-top: 80px; min-height: 100vh; }
        .header-bar { position: fixed; top: 0; left: 0; width: 100%; height: 60px; background: white; display: flex; align-items: center; justify-content: space-between; padding: 0 20px; z-index: 50; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-bottom: 20px; }
        .stat-card { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .stat-card.warning { border-top: 4px solid var(--warning); }
        .stat-card.danger { border-top: 4px solid var(--danger); }
        .stat-value { font-size: 2rem; font-weight: bold; color: var(--primary); margin: 5px 0; }
        .search-bar { background: white; padding: 15px; border-radius: 10px; margin-bottom: 20px; display: flex; gap: 10px; }
        .search-bar input { flex: 1; padding: 10px; border: 2px solid #e5e7eb; border-radius: 8px; }
        .employee-card { background: white; padding: 20px; border-radius: 15px; margin-bottom: 15px; display: flex; gap: 15px; align-items: center; cursor: pointer; }
        .employee-avatar { width: 60px; height: 60px; background: var(--secondary); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem; overflow: hidden; }
        .employee-avatar img { width: 100%; height: 100%; object-fit: cover; }
        .employee-info { flex: 1; }
        .employee-name { font-weight: 600; margin-bottom: 3px; }
        .employee-meta { font-size: 0.85rem; color: #6b7280; }
        .badge { padding: 5px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: 600; }
        .badge-success { background: #d1fae5; color: var(--success); }
        .badge-warning { background: #fed7aa; color: #c2410c; }
        .badge-danger { background: #fee2e2; color: var(--danger); }
        .action-btn { padding: 6px 12px; border: none; border-radius: 6px; cursor: pointer; font-size: 0.8rem; background: var(--secondary); color: white; }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center; padding: 20px; }
        .modal-content { background: white; border-radius: 20px; width: 100%; max-width: 600px; max-height: 90vh; overflow-y: auto; }
        .modal-header { background: var(--primary); color: white; padding: 20px; display: flex; justify-content: space-between; align-items: center; }
        .modal-body { padding: 20px; }
        .form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; }
        .image-upload { border: 3px dashed #d1d5db; border-radius: 15px; padding: 30px; text-align: center; cursor: pointer; }
        .image-upload img { max-width: 100%; max-height: 200px; }
        .tabs { display: flex; background: white; border-radius: 10px; overflow: hidden; margin-bottom: 20px; }
        .tab { flex: 1; padding: 15px; text-align: center; cursor: pointer; border-bottom: 3px solid transparent; }
        .tab.active { border-bottom-color: var(--primary); color: var(--primary); font-weight: 600; }
        .toggle { position: relative; width: 60px; height: 30px; background: #d1d5db; border-radius: 30px; cursor: pointer; }
        .toggle.active { background: var(--success); }
        .toggle-circle { position: absolute; top: 2px; left: 2px; width: 26px; height: 26px; background: white; border-radius: 50%; transition: transform 0.3s; }
        .toggle.active .toggle-circle { transform: translateX(30px); }
        .fab { position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; background: var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 2rem; box-shadow: 0 4px 15px rgba(0,0,0,0.3); border: none; cursor: pointer; z-index: 90; }
        .page { display: none; }
        .page.active { display: block; }
    </style>
<base target="_blank">
</head>
<body>

<!-- LOGIN SCREEN -->
<div class="login-screen" id="loginScreen">
    <div class="login-box">
        <div class="app-logo" id="appLogoDisplay" onclick="document.getElementById('logoUpload').click()">???</div>
        <input type="file" id="logoUpload" style="display:none" accept="image/*" onchange="uploadLogo(this)">
        <h1>PHE Employee Management</h1>
        <p>Executive Engineer (E&M Division)<br>Quetta, Balochistan</p>

        <form id="loginForm" onsubmit="return handleLogin(event)">
            <div class="form-group">
                <label>Username</label>
                <input type="text" id="loginUsername" placeholder="aimalkhan" required>
            </div>
            <div class="form-group">
                <label>Password</label>
                <input type="password" id="loginPassword" placeholder="admin123" required>
            </div>
            <button type="submit" class="btn">Login</button>
            <div class="error-msg" id="loginError">Invalid credentials!</div>
        </form>

        <div class="creds-box">
            <strong>Default Admin Credentials:</strong><br>
            Username: aimalkhan<br>
            Password: admin123<br>
            <small>Tap logo to change app icon</small>
        </div>
    </div>
</div>

<!-- MAIN APP -->
<div class="dashboard" id="dashboard">
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>

    <aside class="sidebar" id="sidebar">
        <div class="admin-info">
            <div class="admin-avatar" id="adminAvatar" onclick="document.getElementById('adminPhotoUpload').click()">AK</div>
            <input type="file" id="adminPhotoUpload" style="display:none" accept="image/*" onchange="uploadAdminPhoto(this)">
            <div id="adminName">Aimal Khan Jaffer</div>
            <small style="color:#9ca3af">Sub Divisional Officer | BPS-17</small>
        </div>
        <nav class="nav-menu">
            <a class="nav-link active" onclick="showPage('dashboard')" id="nav-dashboard">?? Dashboard</a>
            <a class="nav-link" onclick="showPage('employees')" id="nav-employees">?? All Employees</a>
            <a class="nav-link" onclick="showPage('add')" id="nav-add">? Add Employee</a>
            <a class="nav-link" onclick="showPage('leaving')" id="nav-leaving">?? Stop Salary</a>
            <a class="nav-link" onclick="showPage('missing')" id="nav-missing" style="background:var(--danger);">?? Missing Data</a>
            <a class="nav-link" onclick="showPage('users')" id="nav-users">?? User Accounts</a>
            <a class="nav-link" onclick="showPage('settings')" id="nav-settings">?? Settings</a>
        </nav>
    </aside>

    <main class="main-content">
        <div class="header-bar">
            <div style="display: flex; align-items: center; gap: 15px;">
                <button style="background:none; border:none; font-size:1.5rem; cursor:pointer" onclick="toggleSidebar()">?</button>
                <b id="pageTitle">Dashboard</b>
            </div>
            <button class="btn btn-danger" style="width:auto; padding: 8px 16px;" onclick="location.reload()">Logout</button>
        </div>

        <!-- Dashboard -->
        <div id="page-dashboard" class="page active">
            <div class="stats-grid">
                <div class="stat-card">
                    <div style="font-size:0.8rem; color:#6b7280">Total Employees</div>
                    <div class="stat-value" id="statTotal">0</div>
                </div>
                <div class="stat-card">
                    <div style="font-size:0.8rem; color:#6b7280">Salary Active</div>
                    <div class="stat-value" style="color: var(--success)" id="statActive">0</div>
                </div>
                <div class="stat-card warning">
                    <div style="font-size:0.8rem; color:#6b7280">Salary Stopped</div>
                    <div class="stat-value" style="color: var(--warning)" id="statStopped">0</div>
                </div>
                <div class="stat-card danger">
                    <div style="font-size:0.8rem; color:#6b7280">Monthly Payroll</div>
                    <div style="font-size: 1.5rem; font-weight: bold; color: var(--primary)">Rs. <span id="statPayroll">0</span>M</div>
                </div>
            </div>

            <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px;">
                <button class="btn btn-success" style="width:auto" onclick="showPage('add')">+ Add Employee</button>
                <button class="btn btn-warning" style="width:auto" onclick="showPage('leaving')">?? Stop Salary</button>
                <button class="btn btn-danger" style="width:auto" onclick="showPage('missing')">?? Missing DataReport</button>
                <button class="btn btn-secondary" style="width:auto" onclick="exportData()">?? Export</button>
            </div>
        </div>

        <!-- Employees List -->
        <div id="page-employees" class="page">
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="Search name, ID..." onkeyup="renderEmployees()">
                <select id="filterStatus" onchange="renderEmployees()" style="padding: 10px; border: 2px solid #e5e7eb; border-radius: 8px;">
                    <option value="">All Status</option>
                    <option value="Active">Active</option>
                    <option value="Stopped">Salary Stopped</option>
                </select>
            </div>
            <div id="employeesList"></div>
        </div>

        <!-- Add Employee -->
        <div id="page-add" class="page" style="max-width: 800px">
            <h2 style="margin-bottom: 20px; color: var(--primary)">Add New Employee</h2>
            <div style="background: white; padding: 20px; border-radius: 15px;">
                <div class="tabs">
                    <div class="tab active" onclick="showTab('basic')">Basic Info</div>
                    <div class="tab" onclick="showTab('salary')">Salary</div>
                    <div class="tab" onclick="showTab('docs')">Documents</div>
                </div>

                <form id="empForm" onsubmit="return saveEmployee(event)">
                    <div id="tab-basic">
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Personnel No</label>
                                <input type="text" id="empId" required>
                            </div>
                            <div class="form-group">
                                <label>Name</label>
                                <input type="text" id="empName" required>
                            </div>
                            <div class="form-group">
                                <label>Father Name</label>
                                <input type="text" id="empFather" required>
                            </div>
                            <div class="form-group">
                                <label>CNIC</label>
                                <input type="text" id="empCnic">
                            </div>
                            <div class="form-group">
                                <label>Designation</label>
                                <input type="text" id="empDesig" required>
                            </div>
                            <div class="form-group">
                                <label>BPS</label>
                                <select id="empBps">
                                    <option value="01">BPS-01</option>
                                    <option value="02">BPS-02</option>
                                    <option value="03">BPS-03</option>
                                    <option value="04">BPS-04</option>
                                    <option value="05">BPS-05</option>
                                    <option value="16">BPS-16</option>
                                    <option value="17">BPS-17</option>
                                    <option value="18">BPS-18</option>
                                </select>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <label>Profile Photo</label>
                            <div class="image-upload" onclick="document.getElementById('empPhoto').click()">
                                <span style="font-size: 3rem;">??</span>
                                <p>Click to upload photo</p>
                            </div>
                            <input type="file" id="empPhoto" style="display:none" accept="image/*" onchange="previewPhoto(this)">
                            <img id="photoPreview" style="max-width: 200px; margin-top: 10px; display: none;">
                        </div>
                    </div>

                    <div id="tab-salary" style="display:none">
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Basic Pay</label>
                                <input type="text" id="empBasic" placeholder="30,000">
                            </div>
                            <div class="form-group">
                                <label>Gross Pay</label>
                                <input type="text" id="empGross" placeholder="55,000">
                            </div>
                            <div class="form-group">
                                <label>Net Pay</label>
                                <input type="text" id="empNet" placeholder="50,000">
                            </div>
                            <div class="form-group">
                                <label>Bank Account</label>
                                <input type="text" id="empAccount">
                            </div>
                        </div>
                        <div style="margin-top: 20px; padding: 15px; background: #f3f4f6; border-radius: 10px;">
                            <h4>Salary Status</h4>
                            <div style="display: flex; align-items: center; gap: 10px; margin-top: 10px;">
                                <div class="toggle active" id="salaryToggle" onclick="this.classList.toggle('active')">
                                    <div class="toggle-circle"></div>
                                </div>
                                <span>Salary Active</span>
                            </div>
                        </div>
                    </div>

                    <div id="tab-docs" style="display:none">
                        <div style="margin-bottom: 15px;">
                            <label>CNIC Front</label>
                            <div class="image-upload" onclick="document.getElementById('cnicFront').click()">
                                <span style="font-size: 3rem;">??</span>
                                <p>Upload CNIC Front</p>
                            </div>
                            <input type="file" id="cnicFront" style="display:none" accept="image/*" onchange="previewCnic(this, 'front')">
                            <img id="cnicFrontPreview" style="max-width: 200px; margin-top: 10px; display: none;">
                        </div>
                        <div>
                            <label>CNIC Back</label>
                            <div class="image-upload" onclick="document.getElementById('cnicBack').click()">
                                <span style="font-size: 3rem;">??</span>
                                <p>Upload CNIC Back</p>
                            </div>
                            <input type="file" id="cnicBack" style="display:none" accept="image/*" onchange="previewCnic(this, 'back')">
                            <img id="cnicBackPreview" style="max-width: 200px; margin-top: 10px; display: none;">
                        </div>
                    </div>

                    <div style="margin-top: 30px; display: flex; gap: 10px;">
                        <button type="submit" class="btn" style="flex: 1">?? Save Employee</button>
                        <button type="button" class="btn btn-secondary" style="flex: 1" onclick="showPage('employees')">Cancel</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Stop Salary -->
        <div id="page-leaving" class="page">
            <h2 style="margin-bottom: 20px; color: var(--danger)">?? Stop Employee Salary</h2>
            <div style="background: white; padding: 20px; border-radius: 15px;">
                <div class="search-bar">
                    <input type="text" id="stopSearch" placeholder="Enter Personnel Number">
                    <button class="btn" style="width: auto" onclick="findForStop()">Search</button>
                </div>

                <div id="stopDetails" style="display:none; margin-top: 20px;">
                    <div class="employee-card" id="stopEmpCard"></div>
                    <div style="margin-top: 20px; padding: 20px; background: #fef3c7; border-radius: 10px;">
                        <div style="margin-bottom: 15px;">
                            <label>Action</label>
                            <select id="stopAction" style="width: 100%; padding: 10px; border: 2px solid #e5e7eb; border-radius: 8px;">
                                <option value="stop">?? Stop Salary</option>
                                <option value="restore">? Restore Salary</option>
                                <option value="mark">?? Mark Leaving</option>
                            </select>
                        </div>
                        <div style="margin-bottom: 15px;">
                            <label>Effective Date</label>
                            <input type="date" id="stopDate" style="width: 100%; padding: 10px; border: 2px solid #e5e7eb; border-radius: 8px;">
                        </div>
                        <div style="margin-bottom: 15px;">
                            <label>Reason/Notes</label>
                            <textarea id="stopReason" style="width: 100%; padding: 10px; border: 2px solid #e5e7eb; border-radius: 8px; min-height: 60px;"></textarea>
                        </div>
                        <button class="btn btn-danger" style="width: 100%" onclick="executeStop()">Execute Action</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- MISSING DATA REPORT PAGE -->
        <div id="page-missing" class="page">
            <h2 style="margin-bottom: 20px; color: var(--danger)">?? Missing Data Report</h2>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px;">
                <div style="background: #fee2e2; padding: 20px; border-radius: 15px; border-left: 4px solid var(--danger);">
                    <div style="font-size: 0.8rem; color: #991b1b;">Missing Names/Father</div>
                    <div style="font-size: 2rem; font-weight: bold; color: var(--danger);" id="missingNameCount">0</div>
                </div>
                <div style="background: #fef3c7; padding: 20px; border-radius: 15px; border-left: 4px solid var(--warning);">
                    <div style="font-size: 0.8rem; color: #92400e;">Missing CNIC</div>
                    <div style="font-size: 2rem; font-weight: bold; color: var(--warning);" id="missingCnicCount">0</div>
                </div>
                <div style="background: #dbeafe; padding: 20px; border-radius: 15px; border-left: 4px solid var(--secondary);">
                    <div style="font-size: 0.8rem; color: #1e40af;">Missing Photos</div>
                    <div style="font-size: 2rem; font-weight: bold; color: var(--primary);" id="missingPhotoCount">0</div>
                </div>
                <div style="background: #f3e8ff; padding: 20px; border-radius: 15px; border-left: 4px solid #9333ea;">
                    <div style="font-size: 0.8rem; color: #6b21a8;">Missing Bank Info</div>
                    <div style="font-size: 2rem; font-weight: bold; color: #9333ea;" id="missingBankCount">0</div>
                </div>
            </div>

            <div style="background: white; padding: 20px; border-radius: 15px; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap;">
                    <button class="btn btn-danger" style="width: auto" onclick="filterMissing('all')">Show All Missing</button>
                    <button class="btn btn-secondary" style="width: auto" onclick="filterMissing('name')">Names</button>
                    <button class="btn btn-secondary" style="width: auto" onclick="filterMissing('cnic')">CNIC</button>
                    <button class="btn btn-secondary" style="width: auto" onclick="filterMissing('photo')">Photos</button>
                    <button class="btn btn-success" style="width: auto" onclick="exportMissingReport()">?? Export CSV</button>
                </div>
                <div id="missingDataList"></div>
            </div>
        </div>

        <!-- Users -->
        <div id="page-users" class="page">
            <h2 style="margin-bottom: 20px; color: var(--primary)">?? User Accounts</h2>
            <button class="btn btn-success" style="width:auto; margin-bottom: 20px; padding: 10px 20px;" onclick="showModal('createUserModal')">+ Create New User</button>
            <div id="usersList"></div>
        </div>

        <!-- Settings -->
        <div id="page-settings" class="page">
            <h2 style="margin-bottom: 20px; color: var(--primary)">?? Settings</h2>

            <div style="background: white; padding: 20px; border-radius: 15px; margin-bottom: 20px;">
                <h3>Department Logo</h3>
                <input type="file" accept="image/*" onchange="updateAppLogo(this)" style="margin-top: 10px;">
            </div>

            <div style="background: white; padding: 20px; border-radius: 15px; margin-bottom: 20px;">
                <h3>Admin Profile</h3>
                <div class="form-grid" style="margin-top: 15px;">
                    <div class="form-group">
                        <label>Name</label>
                        <input type="text" id="setAdminName" value="Aimal Khan Jaffer">
                    </div>
                    <div class="form-group">
                        <label>Designation</label>
                        <input type="text" id="setAdminDesig" value="Sub Divisional Officer">
                    </div>
                </div>
                <button class="btn btn-success" style="width:auto; margin-top: 15px" onclick="saveSettings()">Save Changes</button>
            </div>

            <div style="background: white; padding: 20px; border-radius: 15px;">
                <h3>Data Management</h3>
                <div style="display: flex; gap: 10px; margin-top: 15px;">
                    <button class="btn btn-secondary" style="width:auto" onclick="exportJSON()">Export JSON</button>
                    <button class="btn btn-secondary" style="width:auto" onclick="exportCSV()">Export CSV</button>
                    <button class="btn btn-danger" style="width:auto" onclick="clearAllData()">?? Clear All Data</button>
                </div>
            </div>
        </div>
    </main>

    <button class="fab" onclick="showPage('add')">+</button>
</div>

<!-- Detail Modal -->
<div class="modal" id="detailModal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Employee Details</h3>
            <button style="background:none; border:none; color:white; font-size:1.5rem" onclick="closeModal('detailModal')">&times;</button>
        </div>
        <div class="modal-body" id="detailBody"></div>
    </div>
</div>

<!-- Create User Modal -->
<div class="modal" id="createUserModal">
    <div class="modal-content" style="max-width: 400px;">
        <div class="modal-header">
            <h3>Create User Account</h3>
            <button style="background:none; border:none; color:white; font-size:1.5rem" onclick="closeModal('createUserModal')">&times;</button>
        </div>
        <div class="modal-body">
            <form onsubmit="return createUser(event)">
                <div class="form-group">
                    <label>Link to Employee</label>
                    <select id="userEmpId" required style="width: 100%; padding: 10px; border: 2px solid #e5e7eb; border-radius: 8px;">
                        <option value="">Select Employee</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Username</label>
                    <input type="text" id="newUsername" required style="width: 100%; padding: 10px; border: 2px solid #e5e7eb; border-radius: 8px;">
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="newPassword" required style="width: 100%; padding: 10px; border: 2px solid #e5e7eb; border-radius: 8px;">
                </div>
                <div class="form-group">
                    <label>Role</label>
                    <select id="newRole" style="width: 100%; padding: 10px; border: 2px solid #e5e7eb; border-radius: 8px;">
                        <option value="employee">Employee (View Only)</option>
                        <option value="manager">Manager (Limited)</option>
                        <option value="admin">Admin (Full Access)</option>
                    </select>
                </div>
                <button type="submit" class="btn">Create User</button>
            </form>
        </div>
    </div>
</div>

<script>
// DATA - 151 employees pre-loaded
let employees = [{"id": "20005606", "name": "AJMAL GILL", "fatherName": "FAQIRA MASIH", "designation": "Sweeper", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "06.02.1975", "joiningDate": "28.06.2002", "basicPay": "26,440.00", "grossPay": "55,860.00", "netPay": "52,745.00", "bank": "UNITED BANK LIMITED, 211055 HALI ROAD QUETTA HALI ROAD QUETTA, QUETTA", "account": "112105510143664", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20006051", "name": "ABDUL SALAM", "fatherName": "WALI MUHAMMAD", "designation": "ASSISTANT DRILLER", "bps": "05", "department": "Public Health Engineering", "cnic": "", "dob": "01.03.1981", "joiningDate": "27.06.2000", "basicPay": "30,230.00", "grossPay": "63,252.00", "netPay": "59,757.00", "bank": "NATIONAL BANK OF PAKISTAN, 230297 IND: STATE BRANCH IND: STATE BRANCH, QUETTA", "account": "0297003004336497", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20006489", "name": "FAROOQ AHMED", "fatherName": "NAZIR AHMED", "designation": "Naib Qasid", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "20.12.1978", "joiningDate": "01.09.1999", "basicPay": "27,600.00", "grossPay": "56,164.00", "netPay": "53,046.00", "bank": "UNITED BANK LIMITED, 210077 TOGHI ROAD TOGHI ROAD, QUETTA", "account": "0112007710203289", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20008065", "name": "ROZAY KHAN.", "fatherName": "MOHD IBRAHIM.", "designation": "Cooly", "bps": "04", "department": "Public Health Engineering", "cnic": "", "dob": "01.07.1979", "joiningDate": "27.06.1996", "basicPay": "31,190.00", "grossPay": "64,450.00", "netPay": "61,106.00", "bank": "NATIONAL BANK OF PAKISTAN, 230173 CIVIL SECRETARIAT CIVIL SECRETARIAT, QUETTA", "account": "0173003002203080", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20009582", "name": "MAZHAR  ALI HASHMI", "fatherName": "SYED ALTAF ALI", "designation": "Geophysicist", "bps": "18", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1971", "joiningDate": "29.09.1994", "basicPay": "142,080.00", "grossPay": "265,979.00", "netPay": "221,736.00", "bank": "NATIONAL BANK OF PAKISTAN, 231860 MANAN CHOWK BRANCH MANAN CHOWK BRANCH,", "account": "1860003007303632", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20019351", "name": "MUHAMMAD  IQBAL NADEEM", "fatherName": "MUSHTAQ AHMED", "designation": "DIVISIONAL ACCOUNTANT", "bps": "18", "department": "Public Health Engineering", "cnic": "", "dob": "01.04.1966", "joiningDate": "03.11.1987", "basicPay": "125,040.00", "grossPay": "233,493.00", "netPay": "199,989.00", "bank": "HABIB BANK LIMITED, 220099 ZHOB 30093328 ZHOB 30093328, ZHOB", "account": "23087900713203", "status": "Leaving", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20029747", "name": "MUNIR AHMAD", "fatherName": "QADIR BUX", "designation": "Cooly", "bps": "04", "department": "Public Health Engineering", "cnic": "", "dob": "15.06.1981", "joiningDate": "25.12.2002", "basicPay": "32,510.00", "grossPay": "66,726.00", "netPay": "63,360.00", "bank": "NATIONAL BANK OF PAKISTAN, 230051 MAIN BRANCH MAIN BRANCH, QUETTA", "account": "51003026563290", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20030210", "name": "MOHAMMAD AZAM", "fatherName": "SARDAR MOHAMMAD AMIN", "designation": "SENIOR CLERK", "bps": "14", "department": "Public Health Engineering", "cnic": "", "dob": "11.04.1972", "joiningDate": "15.01.1995", "basicPay": "59,070.00", "grossPay": "116,903.00", "netPay": "107,630.00", "bank": "MCB BANK LIMITED,  240573 ZARGHOON RAOD ZARGHOON RAOD, QUETTA.", "account": "0057302010072882", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20030774", "name": "AKHTAR MUHAMMAD", "fatherName": "RAZ MUHAMMAD", "designation": "CHOWKIDAR", "bps": "01", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1981", "joiningDate": "02.08.1992", "basicPay": "26,450.00", "grossPay": "56,012.00", "netPay": "53,537.00", "bank": "ALLIED BANK LIMITED, 250782 NEW ZARGHOON ROAD 30011207 NEW ZARGHOON ROAD", "account": "0010018185670010", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20031999", "name": "MUNIR AHMED", "fatherName": "ELAHI BAKSH", "designation": "SERVICE MAN", "bps": "04", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1968", "joiningDate": "21.12.1991", "basicPay": "33,170.00", "grossPay": "68,014.00", "netPay": "64,635.00", "bank": "THE BANK OF PUNJAB, 070249 M.A JINNAH ROAD 30011227 M.A JINNAH ROAD 30011227,", "account": "6510089250200016", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20032001", "name": "ABDUL WAHID", "fatherName": "ABDUL QADIR", "designation": "Cooly", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "28.09.1970", "joiningDate": "01.01.1992", "basicPay": "28,520.00", "grossPay": "60,277.00", "netPay": "57,262.00", "bank": "MCB BANK LIMITED,  240573 ZARGHOON RAOD ZARGHOON RAOD, QUETTA.", "account": "0057302010090075", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20032932", "name": "MUHAMMAD BUX", "fatherName": "HUSSAIN BUX", "designation": "DRILLING SUPERINTENDENT", "bps": "16", "department": "Public Health Engineering", "cnic": "", "dob": "25.05.1969", "joiningDate": "02.07.1987", "basicPay": "57,450.00", "grossPay": "117,827.00", "netPay": "106,649.00", "bank": "HABIB BANK LIMITED, 220873 UNIVERSITY UNIVERSITY, QUETTA", "account": "08730008920801", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20033872", "name": "ATTAULLAH", "fatherName": "GHULAM ALI", "designation": "Foreman", "bps": "11", "department": "Public Health Engineering", "cnic": "", "dob": "06.02.1969", "joiningDate": "12.10.1988", "basicPay": "57,950.00", "grossPay": "113,629.00", "netPay": "107,215.00", "bank": "HABIB BANK LIMITED, 221426 MARRIABAD MARRIABAD, QUETTA", "account": "0014267900964899", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20034329", "name": "SHIRBAT KHAN", "fatherName": "MIR AZID KHAN", "designation": "POWER DRILLER", "bps": "09", "department": "Public Health Engineering", "cnic": "", "dob": "01.07.1966", "joiningDate": "05.05.1986", "basicPay": "50,170.00", "grossPay": "99,351.00", "netPay": "94,820.00", "bank": "NATIONAL BANK OF PAKISTAN, 230173 CIVIL SECRETARIAT CIVIL SECRETARIAT, QUETTA", "account": "0173003002251635", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20034330", "name": "ATTA  MUHAMMAD", "fatherName": "NOOR MUHAMMAD", "designation": "POWER DRILLER", "bps": "09", "department": "Public Health Engineering", "cnic": "", "dob": "15.01.1966", "joiningDate": "10.03.1987", "basicPay": "21,673.00", "grossPay": "42,786.00", "netPay": "42,786.00", "bank": "UNITED BANK LIMITED, 211101 BISE SAMUNGLI ROAD BISE SAMUNGLI ROAD, QUETTA", "account": "0112110110242334", "status": "Leaving", "salaryStopped": true, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20034331", "name": "NOOR  MUHAMMAD", "fatherName": "KHAN MUHAMMAD", "designation": "RIG DRIVER", "bps": "08", "department": "Public Health Engineering", "cnic": "", "dob": "25.09.1969", "joiningDate": "29.12.1989", "basicPay": "40,890.00", "grossPay": "82,150.00", "netPay": "77,969.00", "bank": "UNITED BANK LIMITED, 210813 SIRKI ROAD SIRKI ROAD, QUETTA", "account": "112081310012690", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20035191", "name": "LAL BAKSH", "fatherName": "KHAMISA KHAN", "designation": "Mechanic", "bps": "08", "department": "Public Health Engineering", "cnic": "", "dob": "17.03.1967", "joiningDate": "07.04.1988", "basicPay": "36,890.00", "grossPay": "69,300.00", "netPay": "65,248.00", "bank": "ALLIED BANK LIMITED, 250705 PASHTOONABAD PASHTOONABAD, QUETTA", "account": "0010024665110016", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20035193", "name": "AZHER AZIZ", "fatherName": "ABDUL AZIZ", "designation": "Electric Foreman", "bps": "11", "department": "Public Health Engineering", "cnic": "", "dob": "05.02.1967", "joiningDate": "28.04.1987", "basicPay": "57,950.00", "grossPay": "111,837.00", "netPay": "105,659.00", "bank": "ASKARI BANK LIMITED, 100003 M. A JINNAH ROAD 30011221 M. A JINNAH ROAD 30011221,", "account": "00031000001355", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20035198", "name": "ABDULLAH", "fatherName": "PHANAL KHAN", "designation": "PUMP DRIVER", "bps": "05", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1968", "joiningDate": "01.01.1989", "basicPay": "34,730.00", "grossPay": "70,774.00", "netPay": "67,203.00", "bank": "MCB BANK LIMITED,  241072 SATELLITE TOWN BR QUETTA SATELLITE TOWN BR QUETTA ,", "account": "0107202010010064", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20035199", "name": "MUHAMMAD IQBAL", "fatherName": "HAZOOR BUX", "designation": "RIG DRIVER", "bps": "08", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1969", "joiningDate": "01.09.1985", "basicPay": "40,890.00", "grossPay": "82,041.00", "netPay": "77,861.00", "bank": "HABIB BANK LIMITED, 220873 UNIVERSITY UNIVERSITY, QUETTA", "account": "08730007691801", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20035209", "name": "PERVEZ AKHTAR", "fatherName": "GUL MUHAMMAD", "designation": "WELDER", "bps": "08", "department": "Public Health Engineering", "cnic": "", "dob": "01.07.1968", "joiningDate": "02.05.1987", "basicPay": "46,890.00", "grossPay": "98,034.00", "netPay": "93,695.00", "bank": "NATIONAL BANK OF PAKISTAN, 230112 G.S.P. BRANCH 30011313 G.S.P. BRANCH 30011313 ,", "account": "0112003013095249", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20035212", "name": "MUHAMMAD HASSAN", "fatherName": "AMIR JAN", "designation": "WELDER", "bps": "08", "department": "Public Health Engineering", "cnic": "", "dob": "16.10.1968", "joiningDate": "21.12.1989", "basicPay": "39,890.00", "grossPay": "79,981.00", "netPay": "75,822.00", "bank": "HABIB BANK LIMITED, 220229 M. A. JINNAH ROAD M. A. JINNAH ROAD, QUETTA", "account": "02290032152001", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20035213", "name": "REHMATULLAH", "fatherName": "NAZAR MUHAMMAD", "designation": "CHOWKIDAR", "bps": "01", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1968", "joiningDate": "01.02.1990", "basicPay": "26,450.00", "grossPay": "57,974.00", "netPay": "55,479.00", "bank": "ALLIED BANK LIMITED, 250329 SHAHRA-E-IQBAL QUETTA SHAHRA-E-IQBAL QUETTA,", "account": "0010003786910014", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20036324", "name": "NOUROZ KHAN", "fatherName": "SARAT KHAN", "designation": "DRILLER", "bps": "07", "department": "Public Health Engineering", "cnic": "", "dob": "15.07.1967", "joiningDate": "29.04.1987", "basicPay": "39,970.00", "grossPay": "79,800.00", "netPay": "75,821.00", "bank": "ALLIED BANK LIMITED, 250705 PASHTOONABAD PASHTOONABAD, QUETTA", "account": "0010024664310017", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20036332", "name": "GHULAM HUSSAIN", "fatherName": "RAHIM BUX", "designation": "RIG DRIVER", "bps": "08", "department": "Public Health Engineering", "cnic": "", "dob": "02.01.1968", "joiningDate": "31.10.1987", "basicPay": "42,890.00", "grossPay": "87,342.00", "netPay": "83,109.00", "bank": "ALLIED BANK LIMITED, 250782 NEW ZARGHOON ROAD 30011207 NEW ZARGHOON ROAD", "account": "0010018184380016", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20038027", "name": "RAHIM BUX", "fatherName": "PIR BUX", "designation": "ASSISTANT DRILLER", "bps": "06", "department": "Public Health Engineering", "cnic": "", "dob": "01.07.1968", "joiningDate": "25.12.2002", "basicPay": "40,960.00", "grossPay": "82,671.00", "netPay": "78,818.00", "bank": "MCB BANK LIMITED,  240559 TOGHI ROAD TOGHI ROAD, QUETTA.", "account": "0055902010021984", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20038029", "name": "ALLAH NOOR", "fatherName": "TOTI SHAH", "designation": "Mechanic", "bps": "08", "department": "Public Health Engineering", "cnic": "", "dob": "01.07.1968", "joiningDate": "26.02.1987", "basicPay": "44,890.00", "grossPay": "89,625.00", "netPay": "85,370.00", "bank": "HABIB BANK LIMITED, 220899 CHOWK ALAM KHAN  BR: QTA CHOWK ALAM KHAN BR: QTA,", "account": "08990000981601", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20038030", "name": "RAZA  MUHAMMAD", "fatherName": "MULLA DAD", "designation": "WELDER", "bps": "08", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1972", "joiningDate": "01.03.1983", "basicPay": "43,890.00", "grossPay": "87,420.00", "netPay": "83,187.00", "bank": "NATIONAL BANK OF PAKISTAN, 230112 G.S.P. BRANCH 30011313 G.S.P. BRANCH 30011313 ,", "account": "0112004013126679", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20038031", "name": "MUHAMMAD HANIF", "fatherName": "IMAN ULLAH", "designation": "DRILLER", "bps": "07", "department": "Public Health Engineering", "cnic": "", "dob": "15.05.1968", "joiningDate": "06.04.1987", "basicPay": "41,790.00", "grossPay": "83,269.00", "netPay": "79,255.00", "bank": "ALLIED BANK LIMITED, 250467 SIRKI ROAD SIRKI ROAD, QUETTA", "account": "0010024094930016", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20038040", "name": "KAWEEL KHAN", "fatherName": "JALAB KHAN", "designation": "RIG DRIVER", "bps": "08", "department": "Public Health Engineering", "cnic": "", "dob": "15.12.1969", "joiningDate": "01.12.1987", "basicPay": "41,890.00", "grossPay": "84,734.00", "netPay": "80,527.00", "bank": "NATIONAL BANK OF PAKISTAN, 230112 G.S.P. BRANCH 30011313 G.S.P. BRANCH 30011313 ,", "account": "0112003013093885", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20040752", "name": "GHULAM RASOOL", "fatherName": "MUHAMMAD  RAZA KHAN", "designation": "DRIVER", "bps": "05", "department": "Public Health Engineering", "cnic": "", "dob": "03.09.1967", "joiningDate": "01.12.1989", "basicPay": "35,480.00", "grossPay": "73,077.00", "netPay": "69,483.00", "bank": "ALLIED BANK LIMITED, 250782 NEW ZARGHOON ROAD 30011207 NEW ZARGHOON ROAD", "account": "0010018184150013", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20042128", "name": "SARDAR MOHAMMAD ASHRAF", "fatherName": "SARDAR MOHAMMAD AMIN", "designation": "HEAD CLERK", "bps": "16", "department": "Public Health Engineering", "cnic": "", "dob": "01.07.1970", "joiningDate": "06.11.1990", "basicPay": "66,490.00", "grossPay": "132,374.00", "netPay": "119,596.00", "bank": "MCB BANK LIMITED,  240554 CHAMAN 30036762 CHAMAN 30036762, CHAMAN", "account": "0055202010053527", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20055037", "name": "SOHAIL AHMED", "fatherName": "HABIB AHMED", "designation": "Head Draftsman", "bps": "13", "department": "Public Health Engineering", "cnic": "", "dob": "04.09.1968", "joiningDate": "31.08.1987", "basicPay": "57,040.00", "grossPay": "112,011.00", "netPay": "103,794.00", "bank": "ALLIED BANK LIMITED, 250327 LIAQAT BAZAR LIAQAT BAZAR, QUETTA", "account": "0010018887200014", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20056902", "name": "GUL MUHAMMAD", "fatherName": "NAZAR MUHAMMAD", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "15.03.1979", "joiningDate": "17.08.2006", "basicPay": "25,280.00", "grossPay": "53,671.00", "netPay": "50,578.00", "bank": "NATIONAL BANK OF PAKISTAN, 230173 CIVIL SECRETARIAT CIVIL SECRETARIAT, QUETTA", "account": "0173003002225628", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20056908", "name": "MOHAMMAD ARIF", "fatherName": "MIRZA KHAN", "designation": "DRIVER", "bps": "06", "department": "Public Health Engineering", "cnic": "", "dob": "01.07.1980", "joiningDate": "15.08.2006", "basicPay": "31,720.00", "grossPay": "66,461.00", "netPay": "62,770.00", "bank": "NATIONAL BANK OF PAKISTAN, 230173 CIVIL SECRETARIAT CIVIL SECRETARIAT, QUETTA", "account": "0173003002228063", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20057434", "name": "SYED  ZIA UDDIN", "fatherName": "KHUDAI NOOR", "designation": "Draftsman", "bps": "11", "department": "Public Health Engineering", "cnic": "", "dob": "11.07.1976", "joiningDate": "12.08.2006", "basicPay": "39,610.00", "grossPay": "81,055.00", "netPay": "76,429.00", "bank": "ALLIED BANK LIMITED, 250326 M.A.JINNAH ROAD  M.A.JINNAH ROAD, QUETTA", "account": "0010003607710018", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20060374", "name": "GUL SHER KHAN", "fatherName": "SHAH MURAD", "designation": "CLEANER", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "01.07.1966", "joiningDate": "25.10.1989", "basicPay": "31,660.00", "grossPay": "66,104.00", "netPay": "62,887.00", "bank": "UNITED BANK LIMITED, 211101 BISE SAMUNGLI ROAD BISE SAMUNGLI ROAD, QUETTA", "account": "0112110110036832", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20060376", "name": "MUHAMMAD ILYAS", "fatherName": "KHAIR MUHAMMAD", "designation": "RIG DRIVER", "bps": "08", "department": "Public Health Engineering", "cnic": "", "dob": "01.07.1966", "joiningDate": "28.12.1986", "basicPay": "39,890.00", "grossPay": "80,598.00", "netPay": "76,433.00", "bank": "ALLIED BANK LIMITED, 250625 KILLI LORE KAREZ KILLI LORE KAREZ, QUETTA.", "account": "0010024643850016", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20062531", "name": "ALI BAKHSH", "fatherName": "GUL MUHAMMAD", "designation": "DRILLER", "bps": "07", "department": "Public Health Engineering", "cnic": "", "dob": "07.01.1967", "joiningDate": "01.12.1987", "basicPay": "43,610.00", "grossPay": "88,488.00", "netPay": "84,422.00", "bank": "UNITED BANK LIMITED, 210697 SARIAB ROAD QUETTA SARIAB ROAD QUETTA, QUETTA", "account": "0112069701021338", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20062535", "name": "MUHAMMAD AKRAM", "fatherName": "FAZIL KHAN", "designation": "WELDER", "bps": "08", "department": "Public Health Engineering", "cnic": "", "dob": "01.07.1969", "joiningDate": "01.12.1987", "basicPay": "46,890.00", "grossPay": "92,772.00", "netPay": "88,485.00", "bank": "NATIONAL BANK OF PAKISTAN, 230184 B.M.C BRANCH B.M.C BRANCH, QUETTA", "account": "0184004248732749", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20062666", "name": "TOUS  KHAN", "fatherName": "SIKANDER", "designation": "CHOWKIDAR", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "01.07.1972", "joiningDate": "01.12.1987", "basicPay": "31,080.00", "grossPay": "64,266.00", "netPay": "61,067.00", "bank": "UNITED BANK LIMITED, 210633 CHOWK MEEZAN CHOWK MEEZAN, QUETTA", "account": "0112063301037261", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20068129", "name": "GHULAM ALI BUGTI", "fatherName": "THANGI KHAN", "designation": "RIG DRIVER", "bps": "08", "department": "Public Health Engineering", "cnic": "", "dob": "17.12.1976", "joiningDate": "01.11.1999", "basicPay": "33,890.00", "grossPay": "69,898.00", "netPay": "62,640.00", "bank": "ALLIED BANK LIMITED, 250467 SIRKI ROAD SIRKI ROAD, QUETTA", "account": "0010024104010010", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20091090", "name": "AIMAL   KHAN   JAFFAR", "fatherName": "Noor Muhammad", "designation": "Sub Divisional Officer", "bps": "17", "department": "Public Health Engineering", "cnic": "", "dob": "12.07.1990", "joiningDate": "01.03.2008", "basicPay": "62,170.00", "grossPay": "123,557.00", "netPay": "108,089.00", "bank": "NATIONAL BANK OF PAKISTAN, 230052 QUETTA CANTT QUETTA CANTT, QUETTA", "account": "0052004153727167", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20092975", "name": "KHUDA E NAZAR", "fatherName": "HAJI MUHAMMAD KHAN", "designation": "Compressor Operator", "bps": "05", "department": "Public Health Engineering", "cnic": "", "dob": "05.12.1983", "joiningDate": "18.11.2008", "basicPay": "25,730.00", "grossPay": "54,355.00", "netPay": "40,383.00", "bank": "ALLIED BANK LIMITED, 250782 NEW ZARGHOON ROAD 30011207 NEW ZARGHOON ROAD", "account": "0010018196630016", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20093013", "name": "JAMEEL REHMAN", "fatherName": "ABDUL HAMEED TREEN", "designation": "SUB DIVISIONAL CLERK", "bps": "11", "department": "Public Health Engineering", "cnic": "", "dob": "20.03.1989", "joiningDate": "25.02.2008", "basicPay": "38,300.00", "grossPay": "75,918.00", "netPay": "71,244.00", "bank": "BANKISLAMI PAKISTAN LIMITED, 262001 M A JINNAH ROAD M A JINNAH ROAD, QUETTA", "account": "0200120456720001", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20093037", "name": "JAN MUHAMMAD", "fatherName": "ABDUL HAQ", "designation": "DRIVER", "bps": "05", "department": "Public Health Engineering", "cnic": "", "dob": "03.02.1983", "joiningDate": "18.11.2008", "basicPay": "26,480.00", "grossPay": "56,977.00", "netPay": "48,544.00", "bank": "ALLIED BANK LIMITED, 250625 KILLI LORE KAREZ KILLI LORE KAREZ, QUETTA.", "account": "0010024644950013", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20093039", "name": "BAZ MUHAMMAD", "fatherName": "DOST MUHAMMAD", "designation": "DRIVER", "bps": "05", "department": "Public Health Engineering", "cnic": "", "dob": "14.07.1977", "joiningDate": "18.11.2008", "basicPay": "26,480.00", "grossPay": "56,977.00", "netPay": "53,544.00", "bank": "ALLIED BANK LIMITED, 250951 SHEHBAZ TOWN SHEHBAZ TOWN, QUETTA", "account": "0010023922030011", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20093040", "name": "SHABBIR AHMED", "fatherName": "WAZIR MUHAMMAD", "designation": "DRIVER", "bps": "05", "department": "Public Health Engineering", "cnic": "", "dob": "01.07.1989", "joiningDate": "18.11.2008", "basicPay": "27,980.00", "grossPay": "59,677.00", "netPay": "56,217.00", "bank": "UNITED BANK LIMITED, 210974 MASJID ROAD QUETTA MASJID ROAD QUETTA, QUETTA", "account": "0112097401021637", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20093041", "name": "ZAHID HUSSAIN", "fatherName": "ABDUL MALIK", "designation": "ASSISTANT DRILLER", "bps": "05", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1985", "joiningDate": "18.11.2008", "basicPay": "25,730.00", "grossPay": "54,331.00", "netPay": "50,924.00", "bank": "UNITED BANK LIMITED, 210974 MASJID ROAD QUETTA MASJID ROAD QUETTA, QUETTA", "account": "0112097410026463", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20094353", "name": "KALEEM ULLAH", "fatherName": "ABDUL KHAIR", "designation": "Naib Qasid", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "10.04.1990", "joiningDate": "18.11.2008", "basicPay": "22,150.00", "grossPay": "48,091.00", "netPay": "45,179.00", "bank": "HABIB BANK LIMITED, 220229 M. A. JINNAH ROAD M. A. JINNAH ROAD, QUETTA", "account": "11067900022503", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20095412", "name": "MOHAMMAD SHOAIB", "fatherName": "ABDUL KAREEM", "designation": "Cooly", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "01.03.1986", "joiningDate": "30.01.2009", "basicPay": "22,150.00", "grossPay": "48,091.00", "netPay": "45,179.00", "bank": "NATIONAL BANK OF PAKISTAN, 230112 G.S.P. BRANCH 30011313 G.S.P. BRANCH 30011313 ,", "account": "0112003013116403", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20096104", "name": "SYED  AMIN ULLAH", "fatherName": "SYED MOHAMMAD  QAHIR", "designation": "Naib Qasid", "bps": "01", "department": "Public Health Engineering", "cnic": "", "dob": "25.02.1986", "joiningDate": "11.02.2009", "basicPay": "20,860.00", "grossPay": "45,750.00", "netPay": "43,335.00", "bank": "NATIONAL BANK OF PAKISTAN, 232108 MASJID ROAD QTA MASJID ROAD QTA, QUETTA", "account": "2108004004601289", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20096573", "name": "HAZRAT ALI", "fatherName": "ABDUL WAHAB", "designation": "DRIVER", "bps": "06", "department": "Public Health Engineering", "cnic": "", "dob": "25.09.1975", "joiningDate": "12.08.2006", "basicPay": "31,720.00", "grossPay": "66,461.00", "netPay": "62,770.00", "bank": "NATIONAL BANK OF PAKISTAN, 231059 SHAHRA-E-IQBAL  QUETTA SHAHRA-E-IQBAL", "account": "1059004004731602", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20096979", "name": "BAHAUDDIN", "fatherName": "SAYED LAL", "designation": "DRIVER", "bps": "05", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1975", "joiningDate": "31.01.2009", "basicPay": "27,980.00", "grossPay": "59,577.00", "netPay": "56,118.00", "bank": "JS BANK LIMITED, 580101 M.A JINNAH ROAD 30034359  M.A JINNAH ROAD 30034359, QUETTA", "account": "9011000000139400", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20096982", "name": "MUNIR AHMED", "fatherName": "SAFAR KHAN", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "07.02.1978", "joiningDate": "12.06.2009", "basicPay": "23,540.00", "grossPay": "50,638.00", "netPay": "44,576.00", "bank": "UNITED BANK LIMITED, 211101 BISE SAMUNGLI ROAD BISE SAMUNGLI ROAD, QUETTA", "account": "0112110110042268", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20113439", "name": "MUHAMMAD ISMAIL", "fatherName": "ABDUL SHAKOOR", "designation": "Cooly", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1990", "joiningDate": "16.07.2009", "basicPay": "21,660.00", "grossPay": "47,109.00", "netPay": "44,197.00", "bank": "NATIONAL BANK OF PAKISTAN, 231059 SHAHRA-E-IQBAL  QUETTA SHAHRA-E-IQBAL", "account": "1059004004732218", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20113441", "name": "AMIR  JAN", "fatherName": "MUHAMMAD HANIF", "designation": "DRIVER", "bps": "05", "department": "Public Health Engineering", "cnic": "", "dob": "10.10.1989", "joiningDate": "16.07.2009", "basicPay": "26,480.00", "grossPay": "56,977.00", "netPay": "49,544.00", "bank": "MCB BANK LIMITED,  240551 SHAHRA-E-IQBAL SHAHRA-E-IQBAL, QUETTA", "account": "1465489651007473", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20113923", "name": "AHMED ULLAH", "fatherName": "SHAH WALI", "designation": "ELECTRICIAN", "bps": "09", "department": "Public Health Engineering", "cnic": "", "dob": "13.04.1981", "joiningDate": "22.08.2009", "basicPay": "34,910.00", "grossPay": "71,707.00", "netPay": "67,453.00", "bank": "MEEZAN BANK LIMITED, 421101 MANAN CHOWK JINNAH ROAD QUETTA MANAN CHOWK", "account": "011010100475762", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20121098", "name": "DOULAT KHAN", "fatherName": "HAJI ROZI KHAN", "designation": "DRIVER", "bps": "05", "department": "Public Health Engineering", "cnic": "", "dob": "01.05.1989", "joiningDate": "11.02.2009", "basicPay": "28,730.00", "grossPay": "60,927.00", "netPay": "57,455.00", "bank": "HABIB BANK LIMITED, 220229 M. A. JINNAH ROAD M. A. JINNAH ROAD, QUETTA", "account": "02297900291103", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20146502", "name": "HAFEEZ ULLAH", "fatherName": "MOHAMMAD BAKHSH", "designation": "Mechanic", "bps": "08", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1992", "joiningDate": "28.06.2010", "basicPay": "28,890.00", "grossPay": "60,589.00", "netPay": "51,124.00", "bank": "BANKISLAMI PAKISTAN LIMITED, 261031 SHAHRA-E-IQBAL 30030993 SHAHRA-E-IQBAL", "account": "0103100097250001", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20146505", "name": "MOHAMMAD YOUNAS", "fatherName": "MOHAMMAD AYAZ", "designation": "DRIVER", "bps": "05", "department": "Public Health Engineering", "cnic": "", "dob": "31.05.1987", "joiningDate": "26.06.2010", "basicPay": "25,730.00", "grossPay": "55,627.00", "netPay": "52,208.00", "bank": "NATIONAL BANK OF PAKISTAN, 231059 SHAHRA-E-IQBAL  QUETTA SHAHRA-E-IQBAL", "account": "1059004004733495", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20146959", "name": "MUHAMMAD HASHIM", "fatherName": "HASIL KHAN", "designation": "STORE KEEPER", "bps": "05", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1972", "joiningDate": "03.02.1993", "basicPay": "37,730.00", "grossPay": "77,439.00", "netPay": "73,802.00", "bank": "ALLIED BANK LIMITED, 250782 NEW ZARGHOON ROAD 30011207 NEW ZARGHOON ROAD", "account": "0010018195070011", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20148908", "name": "HAFIZ OBAID ULLAH", "fatherName": "ABDUL MALIK", "designation": "Compressor Operator", "bps": "05", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1989", "joiningDate": "28.06.2010", "basicPay": "22,730.00", "grossPay": "49,290.00", "netPay": "44,927.00", "bank": "MCB BANK LIMITED,  240551 SHAHRA-E-IQBAL SHAHRA-E-IQBAL, QUETTA", "account": "0511132831000808", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20151264", "name": "AMAN  ULLAH", "fatherName": "HABIB ULLAH", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "10.04.1982", "joiningDate": "28.06.2010", "basicPay": "22,960.00", "grossPay": "49,593.00", "netPay": "46,537.00", "bank": "HABIB BANK LIMITED, 220229 M. A. JINNAH ROAD M. A. JINNAH ROAD, QUETTA", "account": "02297900359503", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20160495", "name": "FAREEDULLAH", "fatherName": "MOHAMMAD JAFFAR", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "20.04.1980", "joiningDate": "28.06.2010", "basicPay": "22,960.00", "grossPay": "49,593.00", "netPay": "46,537.00", "bank": "NATIONAL BANK OF PAKISTAN, 231860 MANAN CHOWK BRANCH MANAN CHOWK BRANCH,", "account": "1860003007315076", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20160496", "name": "MOHAMMAD ARIF", "fatherName": "ABDUL REHMAN", "designation": "CHOWKIDAR", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1972", "joiningDate": "29.06.2010", "basicPay": "21,170.00", "grossPay": "46,376.00", "netPay": "43,464.00", "bank": "ALLIED BANK LIMITED, 250625 KILLI LORE KAREZ KILLI LORE KAREZ, QUETTA.", "account": "0010024647600013", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20160497", "name": "ABDUL WAHEED", "fatherName": "MOHAMMAD KHAN", "designation": "Cooly", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1992", "joiningDate": "28.06.2010", "basicPay": "21,170.00", "grossPay": "46,326.00", "netPay": "43,414.00", "bank": "THE BANK OF KHYBER, 080026 M.A.JINNAH ROAD    30011231 M.A.JINNAH ROAD   30011231,", "account": "0102003001559078", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20160498", "name": "MOHAMMAD RAZA", "fatherName": "HASSAN ALI", "designation": "Compressor Operator", "bps": "05", "department": "Public Health Engineering", "cnic": "", "dob": "12.03.1984", "joiningDate": "28.06.2010", "basicPay": "24,230.00", "grossPay": "51,094.00", "netPay": "47,727.00", "bank": "NATIONAL BANK OF PAKISTAN, 230184 B.M.C BRANCH B.M.C BRANCH, QUETTA", "account": "0184004014869866", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20160499", "name": "AMANULLAH", "fatherName": "GAWAR KHAN", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "06.08.1981", "joiningDate": "29.06.2010", "basicPay": "22,380.00", "grossPay": "48,121.00", "netPay": "45,065.00", "bank": "ALLIED BANK LIMITED, 250625 KILLI LORE KAREZ KILLI LORE KAREZ, QUETTA.", "account": "0010024648080014", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20163540", "name": "AHMED JAN", "fatherName": "MUHAMMAD BAKHSH", "designation": "Cooly", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1981", "joiningDate": "28.06.2010", "basicPay": "21,170.00", "grossPay": "46,326.00", "netPay": "43,414.00", "bank": "UNITED BANK LIMITED, 210974 MASJID ROAD QUETTA MASJID ROAD QUETTA, QUETTA", "account": "0112097401100556", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20167078", "name": "MUHAMMAD DAWOOD", "fatherName": "JUMMA KHAN", "designation": "CHOWKIDAR", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "09.07.1988", "joiningDate": "28.06.2010", "basicPay": "21,170.00", "grossPay": "46,376.00", "netPay": "43,464.00", "bank": "HABIB BANK LIMITED, 220302 KUCHLAK KUCHLAK , KUCHLAK", "account": "03020014697803", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20167081", "name": "SYED  AMIR AHMED", "fatherName": "SALEEM SHAH", "designation": "ASSISTANT DRILLER", "bps": "05", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1979", "joiningDate": "28.06.2010", "basicPay": "23,480.00", "grossPay": "50,771.00", "netPay": "47,408.00", "bank": "ALLIED BANK LIMITED, 250777 SATELLITE TOWN QUETTA SATELLITE TOWN QUETTA,", "account": "0010020607690018", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20167086", "name": "JAMEEL AHMED", "fatherName": "ALI MUHAMMAD", "designation": "DRIVER", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1981", "joiningDate": "28.06.2010", "basicPay": "21,170.00", "grossPay": "46,326.00", "netPay": "43,244.00", "bank": "ALLIED BANK LIMITED, 250782 NEW ZARGHOON ROAD 30011207 NEW ZARGHOON ROAD", "account": "0010018205180010", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20167090", "name": "AKHTER MUHAMMAD", "fatherName": "ABDUL MANAN", "designation": "ASSISTANT DRILLER", "bps": "05", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1988", "joiningDate": "28.06.2010", "basicPay": "24,230.00", "grossPay": "52,574.00", "netPay": "49,185.00", "bank": "MCB BANK LIMITED,  240559 TOGHI ROAD TOGHI ROAD, QUETTA.", "account": "0522863951000902", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20171351", "name": "ABDUL WAHEED", "fatherName": "GUL MUHANMMAD", "designation": "DRIVER", "bps": "04", "department": "Public Health Engineering", "cnic": "", "dob": "05.06.1977", "joiningDate": "30.06.2010", "basicPay": "22,610.00", "grossPay": "48,413.00", "netPay": "45,214.00", "bank": "UNITED BANK LIMITED, 210475 HAZAR GUNJI HAZAR GUNJI, QUETTA", "account": "112047537100300", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20174860", "name": "WASEEM SAJJAD", "fatherName": "FATEH MOHAMMAD", "designation": "CHOWKIDAR", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1990", "joiningDate": "30.06.2010", "basicPay": "21,660.00", "grossPay": "47,259.00", "netPay": "44,347.00", "bank": "HABIB BANK LIMITED, 220873 UNIVERSITY UNIVERSITY, QUETTA", "account": "08737900253103", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20179232", "name": "GHULAM MURTAZA", "fatherName": "DIN MOHAMMAD", "designation": "ASSISTANT DRILLER", "bps": "05", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1987", "joiningDate": "28.06.2010", "basicPay": "24,230.00", "grossPay": "51,783.00", "netPay": "48,408.00", "bank": "ALLIED BANK LIMITED, 250777 SATELLITE TOWN QUETTA SATELLITE TOWN QUETTA,", "account": "0010020612270014", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20179233", "name": "ABDUL   SHAKOOR", "fatherName": "HAJI SAFAL", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1981", "joiningDate": "28.06.2010", "basicPay": "22,960.00", "grossPay": "49,593.00", "netPay": "46,537.00", "bank": "ALLIED BANK LIMITED, 250777 SATELLITE TOWN QUETTA SATELLITE TOWN QUETTA,", "account": "0010020612290012", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20187685", "name": "RAZAQ KHAN", "fatherName": "KHAN WALI", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "06.01.1985", "joiningDate": "05.01.2011", "basicPay": "22,960.00", "grossPay": "47,473.00", "netPay": "46,323.00", "bank": "ALLIED BANK LIMITED, 250778 BAL: PRO: ASSEMBLY BAL: PRO: ASSEMBLY, QUETTA", "account": "0010019899110011", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20188706", "name": "JAFFAR KHAN", "fatherName": "SORAB KHAN", "designation": "CHOWKIDAR", "bps": "01", "department": "Public Health Engineering", "cnic": "", "dob": "08.03.1981", "joiningDate": "28.06.2010", "basicPay": "20,000.00", "grossPay": "44,251.00", "netPay": "41,836.00", "bank": "UNITED BANK LIMITED, 211101 BISE SAMUNGLI ROAD BISE SAMUNGLI ROAD, QUETTA", "account": "0112110110101217", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20188709", "name": "HAFEEZ ULLAH", "fatherName": "MOHAMMAD SADIQ", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1972", "joiningDate": "06.12.1992", "basicPay": "31,660.00", "grossPay": "65,261.00", "netPay": "62,052.00", "bank": "ALLIED BANK LIMITED, 250782 NEW ZARGHOON ROAD 30011207 NEW ZARGHOON ROAD", "account": "0010018207540013", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20188714", "name": "ABDUL RAHIM", "fatherName": "MOHAMMAD YAQOOB", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1985", "joiningDate": "08.06.2010", "basicPay": "22,380.00", "grossPay": "48,549.00", "netPay": "45,493.00", "bank": "MCB BANK LIMITED,  240573 ZARGHOON RAOD ZARGHOON RAOD, QUETTA.", "account": "0552879091001159", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20189292", "name": "MOHAMMAD SHOAIB", "fatherName": "MOHAMMAD BAKHSH", "designation": "Crane Operator", "bps": "08", "department": "Public Health Engineering", "cnic": "", "dob": "31.05.1993", "joiningDate": "01.06.2011", "basicPay": "28,890.00", "grossPay": "60,488.00", "netPay": "51,524.00", "bank": "BANKISLAMI PAKISTAN LIMITED, 261031 SHAHRA-E-IQBAL 30030993 SHAHRA-E-IQBAL", "account": "0103100198280001", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20195032", "name": "MOHAMMAD IQBAL", "fatherName": "NOOR UL  HAQ", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1973", "joiningDate": "28.06.2010", "basicPay": "23,540.00", "grossPay": "50,625.00", "netPay": "47,564.00", "bank": "ALLIED BANK LIMITED, 250625 KILLI LORE KAREZ KILLI LORE KAREZ, QUETTA.", "account": "0010024652470017", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20195034", "name": "WALI  MOHAMMAD", "fatherName": "ILAHI BAKHSH", "designation": "Diver", "bps": "04", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1982", "joiningDate": "28.06.2010", "basicPay": "23,930.00", "grossPay": "51,067.00", "netPay": "47,864.00", "bank": "ALLIED BANK LIMITED, 250777 SATELLITE TOWN QUETTA SATELLITE TOWN QUETTA,", "account": "0010020612330010", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20195037", "name": "PIYARA KHAN", "fatherName": "ESSA KHAN", "designation": "Cooly", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1973", "joiningDate": "28.06.2010", "basicPay": "22,150.00", "grossPay": "48,091.00", "netPay": "45,179.00", "bank": "ALLIED BANK LIMITED, 250777 SATELLITE TOWN QUETTA SATELLITE TOWN QUETTA,", "account": "0010020612530016", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20195040", "name": "MOHAMMAD HASSAN", "fatherName": "NAWAB DIN", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "01.09.1990", "joiningDate": "23.07.2011", "basicPay": "22,380.00", "grossPay": "48,549.00", "netPay": "45,493.00", "bank": "ALLIED BANK LIMITED, 250777 SATELLITE TOWN QUETTA SATELLITE TOWN QUETTA,", "account": "0010020612770018", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20198633", "name": "ALLAH -U-DIN", "fatherName": "MALIK NOOR MUHAMMAD", "designation": "JUNIOR CLERK", "bps": "11", "department": "Public Health Engineering", "cnic": "", "dob": "01.06.1975", "joiningDate": "01.07.2011", "basicPay": "36,990.00", "grossPay": "75,286.00", "netPay": "70,618.00", "bank": "NATIONAL BANK OF PAKISTAN, 230209 KHOLU KHOLU, KHOLU", "account": "0209004164842539", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20199177", "name": "HAZRAT WALI", "fatherName": "GHULAM WALI", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "06.02.1993", "joiningDate": "06.05.2011", "basicPay": "22,960.00", "grossPay": "49,593.00", "netPay": "47,963.00", "bank": "HABIB BANK LIMITED, 225866 SHAHRA-I- IQBAL  QUETTA SHAHRA-I- IQBAL, QUETTA", "account": "01867900080303", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20199179", "name": "HAKEEM", "fatherName": "MULGULZAR KHAN", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "07.07.1987", "joiningDate": "15.09.2011", "basicPay": "22,380.00", "grossPay": "48,549.00", "netPay": "45,493.00", "bank": "ALLIED BANK LIMITED, 250777 SATELLITE TOWN QUETTA SATELLITE TOWN QUETTA,", "account": "0010020613530010", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20200848", "name": "MOHAMMAD UMER", "fatherName": "MOHAMMAD  HAKEEM", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "04.02.1980", "joiningDate": "01.11.2011", "basicPay": "22,380.00", "grossPay": "48,535.00", "netPay": "45,479.00", "bank": "FAYSAL BANK LIMITED, 443356 IBB DERA MURAD JAMALI IBB DERA MURAD JAMALI, DERA", "account": "3356301000001061", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20201233", "name": "NISAR AHMED", "fatherName": "SULTAN MOHAMMAD", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "01.07.1989", "joiningDate": "01.11.2011", "basicPay": "21,800.00", "grossPay": "47,491.00", "netPay": "44,435.00", "bank": "ALLIED BANK LIMITED, 250625 KILLI LORE KAREZ KILLI LORE KAREZ, QUETTA.", "account": "0010024653920010", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20202502", "name": "AMAYON", "fatherName": "MOHAMMAD YOUSAF", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1992", "joiningDate": "19.09.2011", "basicPay": "22,380.00", "grossPay": "48,549.00", "netPay": "45,493.00", "bank": "MCB BANK LIMITED,  240559 TOGHI ROAD TOGHI ROAD, QUETTA.", "account": "0577895941001115", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20205939", "name": "AMER  KHAN", "fatherName": "MUNIR AHMED", "designation": "DAK RUNNER", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "11.05.1988", "joiningDate": "23.07.2011", "basicPay": "20,680.00", "grossPay": "49,444.00", "netPay": "46,532.00", "bank": "UNITED BANK LIMITED, 211101 BISE SAMUNGLI ROAD BISE SAMUNGLI ROAD, QUETTA", "account": "0112110110102108", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20209231", "name": "NOOR  ULLAH", "fatherName": "LATE MOHAMMAD QASIM", "designation": "Cooly", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "25.05.1993", "joiningDate": "02.04.2012", "basicPay": "20,680.00", "grossPay": "45,444.00", "netPay": "42,532.00", "bank": "HABIB METROPOLITAN BANK LIMITED, 400004 SHAHRA-E-IQBAL 30011228 SHAHRA-E-IQBAL", "account": "0320017140133812", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20209235", "name": "LEEMO KHAN", "fatherName": "SHAH JAHAN", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "01.07.1984", "joiningDate": "01.01.2012", "basicPay": "22,380.00", "grossPay": "48,549.00", "netPay": "45,493.00", "bank": "ALLIED BANK LIMITED, 250777 SATELLITE TOWN QUETTA SATELLITE TOWN QUETTA,", "account": "0010020614450010", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20210162", "name": "SHAHID AHMED", "fatherName": "MUHAMMAD HASHIM", "designation": "Senior Hydrogeologist", "bps": "18", "department": "Public Health Engineering", "cnic": "", "dob": "05.01.1979", "joiningDate": "23.04.2012", "basicPay": "108,000.00", "grossPay": "205,230.00", "netPay": "174,959.00", "bank": "ALLIED BANK LIMITED, 250801 C.C.& I BUILDING C.C.& I BUILDING, QUETTA", "account": "0010018305100017", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20216475", "name": "SANA  ULLAH", "fatherName": "SHABIR AHMED", "designation": "DRIVER", "bps": "05", "department": "Public Health Engineering", "cnic": "", "dob": "04.09.1994", "joiningDate": "09.03.2012", "basicPay": "24,980.00", "grossPay": "54,277.00", "netPay": "50,871.00", "bank": "HABIB METROPOLITAN BANK LIMITED, 400004 SHAHRA-E-IQBAL 30011228 SHAHRA-E-IQBAL", "account": "0320017140131037", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20216487", "name": "LAL SHAH", "fatherName": "AHMED SHAH", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "07.11.1988", "joiningDate": "25.05.2012", "basicPay": "22,380.00", "grossPay": "48,549.00", "netPay": "41,493.00", "bank": "BANK MAKRAMAH LIMITED (Formally SUMMIT BANK LIMITED), 551142 FATIMA JINNAH", "account": "9941227140125448", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20220195", "name": "SAEED AHMAD", "fatherName": "LATE SULTAN MOHAMMAD", "designation": "CHOWKIDAR", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "08.02.1979", "joiningDate": "03.04.2012", "basicPay": "20,190.00", "grossPay": "44,561.00", "netPay": "41,649.00", "bank": "HABIB BANK LIMITED, 220873 UNIVERSITY UNIVERSITY, QUETTA", "account": "08737900370403", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20220196", "name": "NASEEB ULLAH", "fatherName": "NABI BUKSH", "designation": "CHOWKIDAR", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "15.01.1984", "joiningDate": "03.05.2012", "basicPay": "21,170.00", "grossPay": "46,326.00", "netPay": "42,214.00", "bank": "NATIONAL BANK OF PAKISTAN, 230112 G.S.P. BRANCH 30011313 G.S.P. BRANCH 30011313 ,", "account": "0112004149877138", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20220197", "name": "REHMAT ULLAH", "fatherName": "SOBA KHAN", "designation": "Naib Qasid", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "10.02.1989", "joiningDate": "03.05.2012", "basicPay": "20,190.00", "grossPay": "44,561.00", "netPay": "41,649.00", "bank": "ALLIED BANK LIMITED, 250777 SATELLITE TOWN QUETTA SATELLITE TOWN QUETTA,", "account": "0010028335340019", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20220202", "name": "BIBERG KHAN", "fatherName": "MIR KALAM KHAN", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "27.11.1989", "joiningDate": "10.05.2012", "basicPay": "21,800.00", "grossPay": "47,504.00", "netPay": "44,448.00", "bank": "BANK ALFALAH LIMITED, 090238 LIAQAT BAZAR BR: QTA LIAQAT BAZAR BR: QTA,", "account": "0238001002724768", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20220205", "name": "MEHMOOD KHAN", "fatherName": "ABDUL KHALIQ", "designation": "PUMP DRIVER", "bps": "05", "department": "Public Health Engineering", "cnic": "", "dob": "06.05.1987", "joiningDate": "03.05.2012", "basicPay": "21,980.00", "grossPay": "47,615.00", "netPay": "44,252.00", "bank": "NATIONAL BANK OF PAKISTAN, 231083 SETLITE TOWN QUETTA SETLITE TOWN QUETTA,", "account": "1083004002438040", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20224349", "name": "GHULAM SHABBIR", "fatherName": "IMAM BUKHSH", "designation": "DRIVER", "bps": "04", "department": "Public Health Engineering", "cnic": "", "dob": "12.03.1983", "joiningDate": "02.04.2013", "basicPay": "21,950.00", "grossPay": "47,251.00", "netPay": "44,052.00", "bank": "ALLIED BANK LIMITED, 250329 SHAHRA-E-IQBAL QUETTA SHAHRA-E-IQBAL QUETTA,", "account": "0010009049620018", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20225024", "name": "REHAN", "fatherName": "ABDUL BARI", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "13.04.1988", "joiningDate": "22.07.2011", "basicPay": "22,960.00", "grossPay": "49,593.00", "netPay": "46,537.00", "bank": "BANK AL HABIB LIMITED, 365700 BARMA HOTEL SARYAB RD QUETTA BARMA HOTEL", "account": "5700008100105301", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20225025", "name": "ABDULLAH", "fatherName": "SARDER KHAN", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "10.03.1987", "joiningDate": "09.03.2012", "basicPay": "22,380.00", "grossPay": "48,549.00", "netPay": "45,493.00", "bank": "HABIB BANK LIMITED, 220229 M. A. JINNAH ROAD M. A. JINNAH ROAD, QUETTA", "account": "02297900851303", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20225090", "name": "MAQSOOD AHMED", "fatherName": "MOHAMMD USMAN", "designation": "Cooly", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1978", "joiningDate": "02.04.2012", "basicPay": "19,700.00", "grossPay": "43,679.00", "netPay": "40,767.00", "bank": "NATIONAL BANK OF PAKISTAN, 230184 B.M.C BRANCH B.M.C BRANCH, QUETTA", "account": "0184004014877679", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20225092", "name": "ABDUL MALIK", "fatherName": "ABDUL NABI", "designation": "CHOWKIDAR", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1993", "joiningDate": "17.05.2012", "basicPay": "19,700.00", "grossPay": "43,900.00", "netPay": "40,988.00", "bank": "ALLIED BANK LIMITED, 250625 KILLI LORE KAREZ KILLI LORE KAREZ, QUETTA.", "account": "0010024656560019", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20225093", "name": "SAEED AHMED", "fatherName": "AZAT KHAN", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1988", "joiningDate": "02.04.2012", "basicPay": "22,380.00", "grossPay": "47,679.00", "netPay": "44,623.00", "bank": "UNITED BANK LIMITED, 210697 SARIAB ROAD QUETTA SARIAB ROAD QUETTA, QUETTA", "account": "0109000207568581", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20225101", "name": "MOHAMMAD NOOR", "fatherName": "MOHAMMAD  IBRAHIM", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1972", "joiningDate": "18.05.2012", "basicPay": "21,800.00", "grossPay": "47,504.00", "netPay": "44,448.00", "bank": "UNITED BANK LIMITED, 210697 SARIAB ROAD QUETTA SARIAB ROAD QUETTA, QUETTA", "account": "0109000206029274", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20225102", "name": "MANZOOR AHMED", "fatherName": "ALI MOHAMMAD", "designation": "CLEANER", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "08.06.1973", "joiningDate": "09.03.2012", "basicPay": "20,190.00", "grossPay": "44,561.00", "netPay": "41,649.00", "bank": "ALLIED BANK LIMITED, 250782 NEW ZARGHOON ROAD 30011207 NEW ZARGHOON ROAD", "account": "0010007805850029", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20225135", "name": "ABDUL QADEER", "fatherName": "LATE ABDUL KABEER", "designation": "SERVICE MAN", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "04.04.1986", "joiningDate": "05.04.2012", "basicPay": "22,380.00", "grossPay": "47,679.00", "netPay": "44,623.00", "bank": "ALLIED BANK LIMITED, 250625 KILLI LORE KAREZ KILLI LORE KAREZ, QUETTA.", "account": "0010024655890010", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20225137", "name": "RAFIQ AHMED", "fatherName": "MIR RUSTAM  KHAN", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "01.11.1972", "joiningDate": "02.04.2012", "basicPay": "22,380.00", "grossPay": "48,549.00", "netPay": "45,493.00", "bank": "UNITED BANK LIMITED, 217805 QANDARI BAZAR NEAR KARWAN MONY QUETTA QANDARI", "account": "0110002001326786", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20225138", "name": "MEER  GUL", "fatherName": "MRHRDIL", "designation": "CHOWKIDAR", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1986", "joiningDate": "02.04.2012", "basicPay": "21,170.00", "grossPay": "46,326.00", "netPay": "43,414.00", "bank": "HABIB BANK LIMITED, 220974 MISSION ROAD QUETTA MISSION ROAD QUETTA, QUETTA", "account": "09747900131403", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20225147", "name": "YASIR AHMED", "fatherName": "ABDUL SATTAR", "designation": "Naib Qasid", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "12.06.1985", "joiningDate": "02.04.2012", "basicPay": "21,170.00", "grossPay": "46,326.00", "netPay": "43,414.00", "bank": "ALLIED BANK LIMITED, 250705 PASHTOONABAD PASHTOONABAD, QUETTA", "account": "0010024675510015", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20225152", "name": "MOHAMMAD SHAREEF", "fatherName": "MUSA JAN", "designation": "CHOWKIDAR", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "15.01.1991", "joiningDate": "03.05.2012", "basicPay": "20,190.00", "grossPay": "44,561.00", "netPay": "41,649.00", "bank": "NATIONAL BANK OF PAKISTAN, 232188 ALAMO CHOWK BR: QTA ALAMO CHOWK BR: QTA,", "account": "2188004255674423", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20230252", "name": "ABDUL RAFIQ", "fatherName": "NABI BUX", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1989", "joiningDate": "23.07.2011", "basicPay": "22,380.00", "grossPay": "48,449.00", "netPay": "45,393.00", "bank": "MCB BANK LIMITED,  241072 SATELLITE TOWN BR QUETTA SATELLITE TOWN BR QUETTA ,", "account": "0563297421000673", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20230253", "name": "ALI AKBAR", "fatherName": "KHUDA BAKHSH", "designation": "DRIVER", "bps": "05", "department": "Public Health Engineering", "cnic": "", "dob": "01.02.1988", "joiningDate": "16.05.2012", "basicPay": "26,480.00", "grossPay": "56,153.00", "netPay": "52,729.00", "bank": "MCB BANK LIMITED,  241072 SATELLITE TOWN BR QUETTA SATELLITE TOWN BR QUETTA ,", "account": "0660159451001502", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20230254", "name": "ABDUL WADOOD", "fatherName": "HAJI GUL MOHAMMAD", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "15.02.1977", "joiningDate": "03.05.2012", "basicPay": "21,800.00", "grossPay": "47,491.00", "netPay": "44,435.00", "bank": "HABIB METROPOLITAN BANK LIMITED, 400004 SHAHRA-E-IQBAL 30011228 SHAHRA-E-IQBAL", "account": "0320017140131373", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20238045", "name": "MAQBOOL AHMED", "fatherName": "SHER MOHAMMAD", "designation": "Stenographer", "bps": "14", "department": "Public Health Engineering", "cnic": "", "dob": "17.05.1971", "joiningDate": "24.04.2013", "basicPay": "43,410.00", "grossPay": "88,501.00", "netPay": "81,203.00", "bank": "UNITED BANK LIMITED, 210877 TURBAT TURBAT, TURBAT", "account": "112087710142224", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20249882", "name": "NAQEED ULLAH", "fatherName": "ABDULBARI", "designation": "KHATEEB", "bps": "16", "department": "Public Health Engineering", "cnic": "", "dob": "07.11.1990", "joiningDate": "02.04.2012", "basicPay": "50,670.00", "grossPay": "104,046.00", "netPay": "94,449.00", "bank": "NATIONAL BANK OF PAKISTAN, 231860 MANAN CHOWK BRANCH MANAN CHOWK BRANCH,", "account": "1860004133788335", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20249890", "name": "ABDUL WAHID", "fatherName": "OBEDULLAH", "designation": "RIG COOLY", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1986", "joiningDate": "02.04.2012", "basicPay": "21,800.00", "grossPay": "47,504.00", "netPay": "44,448.00", "bank": "HABIB BANK LIMITED, 225008 (IBB) CHOWK MEEZAN BR. QUETTA (IBB) CHOWK MEEZAN", "account": "50087900156203", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20249897", "name": "SHAFIQ AHMED", "fatherName": "SYED JANSHAH", "designation": "CHOWKIDAR", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "07.09.1994", "joiningDate": "12.12.2013", "basicPay": "20,190.00", "grossPay": "44,561.00", "netPay": "41,649.00", "bank": "UNITED BANK LIMITED, 210475 HAZAR GUNJI HAZAR GUNJI, QUETTA", "account": "109000213211484", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20249904", "name": "MOHAMMAD YAMIN", "fatherName": "ALLAH BAKHSH", "designation": "Cooly", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "06.08.1986", "joiningDate": "03.05.2012", "basicPay": "22,380.00", "grossPay": "48,436.00", "netPay": "43,880.00", "bank": "HABIB BANK LIMITED, 221649 COMPLEX BRANCH 30011251 COMPLEX BRANCH 30011251,", "account": "16497992450903", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20249909", "name": "BASHIR AHMAD", "fatherName": "MOHAMMAD ASLAM", "designation": "CHOWKIDAR", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "17.11.1987", "joiningDate": "29.04.2012", "basicPay": "21,170.00", "grossPay": "46,326.00", "netPay": "43,414.00", "bank": "MCB BANK LIMITED,  241466 HAZAR GANJI HAZAR GANJI , QUETTA", "account": "0694437961000989", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20251455", "name": "FAREED AHMED", "fatherName": "MOHAMMAD USMAN", "designation": "Cooly", "bps": "04", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1993", "joiningDate": "03.05.2012", "basicPay": "22,610.00", "grossPay": "49,006.00", "netPay": "45,807.00", "bank": "NATIONAL BANK OF PAKISTAN, 230184 B.M.C BRANCH B.M.C BRANCH, QUETTA", "account": "0184004014881753", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20253893", "name": "RIAZ  AHMED", "fatherName": "MUNIR AHMED", "designation": "RIG COOLY", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "10.05.1983", "joiningDate": "09.03.2012", "basicPay": "19,210.00", "grossPay": "42,796.00", "netPay": "39,884.00", "bank": "NATIONAL BANK OF PAKISTAN, 230184 B.M.C BRANCH B.M.C BRANCH, QUETTA", "account": "0184004014884410", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20253903", "name": "ABDUL MANAN", "fatherName": "ZAREEF KHAN", "designation": "CLEANER", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "01.07.1978", "joiningDate": "09.03.2012", "basicPay": "19,700.00", "grossPay": "43,679.00", "netPay": "42,619.00", "bank": "UNITED BANK LIMITED, 210697 SARIAB ROAD QUETTA SARIAB ROAD QUETTA, QUETTA", "account": "0109000217502403", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20253929", "name": "SALEEM JAN", "fatherName": "MEHAR ALI", "designation": "SERVICE MAN", "bps": "03", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1993", "joiningDate": "17.05.2012", "basicPay": "22,380.00", "grossPay": "48,549.00", "netPay": "45,493.00", "bank": "ALLIED BANK LIMITED, 250873 KABARI MAR: MISSION ROAD KABARI MAR: MISSION ROAD,", "account": "0010030610740017", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20259020", "name": "MOHAMMAD MASROOR", "fatherName": "ABDUL  RASHEED", "designation": "WELDER MATE", "bps": "05", "department": "Public Health Engineering", "cnic": "", "dob": "11.02.1992", "joiningDate": "17.05.2012", "basicPay": "22,730.00", "grossPay": "514,291.00", "netPay": "472,775.00", "bank": "UNITED BANK LIMITED, 210697 SARIAB ROAD QUETTA SARIAB ROAD QUETTA, QUETTA", "account": "0109000217661883", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20260704", "name": "FAIZAN KHAN", "fatherName": "MOHAMMAD SALEEM", "designation": "Sub Divisional Officer", "bps": "17", "department": "Public Health Engineering", "cnic": "", "dob": "07.10.1989", "joiningDate": "01.01.2011", "basicPay": "62,170.00", "grossPay": "130,803.00", "netPay": "117,868.00", "bank": "UNITED BANK LIMITED, 210632 DUKI 30036550 DUKI 30036550, DUKI", "account": "0109000222527664", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20261235", "name": "MOHAMMAD ISMAIL", "fatherName": "SHAKAL  KHAN", "designation": "CHOWKIDAR", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1978", "joiningDate": "29.04.2012", "basicPay": "21,170.00", "grossPay": "47,843.00", "netPay": "45,898.00", "bank": "ALLIED BANK LIMITED, 250625 KILLI LORE KAREZ KILLI LORE KAREZ, QUETTA.", "account": "0010024657310012", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20263745", "name": "DOST  MUHAMMAD", "fatherName": "ZAHN UD DIN", "designation": "Sub Engineer", "bps": "11", "department": "Public Health Engineering", "cnic": "", "dob": "05.06.1986", "joiningDate": "07.06.2013", "basicPay": "34,370.00", "grossPay": "71,791.00", "netPay": "67,158.00", "bank": "ALLIED BANK LIMITED, 250626 MASTUNG MASTUNG , MASTUNG", "account": "0010030383630016", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20272030", "name": "SUDAIS NISAR", "fatherName": "NISAR AHMED", "designation": "TRACER", "bps": "05", "department": "Public Health Engineering", "cnic": "", "dob": "05.11.1996", "joiningDate": "13.07.2015", "basicPay": "22,730.00", "grossPay": "49,227.00", "netPay": "45,864.00", "bank": "ALLIED BANK LIMITED, 250468 KILLI GUL MUHAMMAD 30013440 KILLI GUL MUHAMMAD", "account": "0010034303120012", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20273212", "name": "MOHAMMAD AMIR", "fatherName": "MOHAMMAD  ISHAQ", "designation": "JUNIOR CLERK", "bps": "11", "department": "Public Health Engineering", "cnic": "", "dob": "12.07.1995", "joiningDate": "01.07.2015", "basicPay": "33,060.00", "grossPay": "69,260.00", "netPay": "64,652.00", "bank": "UNITED BANK LIMITED, 211499 DERA ALLAH YAR 30112582 DERA ALLAH YAR 30112582,", "account": "109000224322698", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20277245", "name": "", "fatherName": "", "designation": "JUNIOR CLERK", "bps": "11", "department": "Public Health Engineering", "cnic": "", "dob": "01.07.1998", "joiningDate": "01.07.2015", "basicPay": "31,750.00", "grossPay": "66,873.00", "netPay": "62,289.00", "bank": "NATIONAL BANK OF PAKISTAN, 230258 HUB 30014621 HUB 30014621, HUB", "account": "0258004058073295", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20281667", "name": "MOHAMMAD YASEEN", "fatherName": "ALLAH UD DIN", "designation": "SUPERVISOR", "bps": "09", "department": "Public Health Engineering", "cnic": "", "dob": "10.02.1992", "joiningDate": "04.01.2016", "basicPay": "28,370.00", "grossPay": "59,732.00", "netPay": "55,598.00", "bank": "BANK ALFALAH LIMITED, 090591 SATELITE TOWN 30093359 SATELITE TOWN 30093359 ,", "account": "5591005000697066", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20286359", "name": "", "fatherName": "", "designation": "SUPERVISOR", "bps": "09", "department": "Public Health Engineering", "cnic": "", "dob": "02.02.1984", "joiningDate": "01.12.2015", "basicPay": "28,370.00", "grossPay": "59,582.00", "netPay": "55,449.00", "bank": "UNITED BANK LIMITED, 211499 DERA ALLAH YAR 30112582 DERA ALLAH YAR 30112582,", "account": "109000228511278", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20321157", "name": "MUHAMMAD USMAN", "fatherName": "LAL MUHAMMAD", "designation": "Geophysicist", "bps": "17", "department": "Public Health Engineering", "cnic": "", "dob": "07.03.1992", "joiningDate": "12.06.2017", "basicPay": "72,430.00", "grossPay": "141,354.00", "netPay": "123,928.00", "bank": "UNITED BANK LIMITED, 210289 (AMEEN I.B) SHARA-E-IQBAL (AMEEN I.B) SHARA-E-IQBAL,", "account": "0109000252602214", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20321439", "name": "ZUBAIR AHMED", "fatherName": "ABDUL HAQ", "designation": "Hydrogeologist", "bps": "18", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.1990", "joiningDate": "05.07.2017", "basicPay": "82,440.00", "grossPay": "166,073.00", "netPay": "146,797.00", "bank": "MEEZAN BANK LIMITED, 421108 DOUBLE ROAD QUETTA DOUBLE ROAD QUETTA, QUETTA", "account": "0011080102721053", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20333974", "name": "ZAHRA NOSHEEN", "fatherName": "YAMAN JAVED", "designation": "TRACER", "bps": "05", "department": "Public Health Engineering", "cnic": "", "dob": "12.03.1983", "joiningDate": "28.09.2017", "basicPay": "21,230.00", "grossPay": "46,527.00", "netPay": "43,164.00", "bank": "HABIB BANK LIMITED, 220229 M. A. JINNAH ROAD M. A. JINNAH ROAD, QUETTA", "account": "01867900369203", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20333975", "name": "JOHNSON PATRUS", "fatherName": "PATRUS MASIH", "designation": "Sweeper", "bps": "01", "department": "Public Health Engineering", "cnic": "", "dob": "11.12.1986", "joiningDate": "22.03.2018", "basicPay": "16,990.00", "grossPay": "38,780.00", "netPay": "36,365.00", "bank": "HABIB BANK LIMITED, 220942 KILLI SHAHOZAI 30011272 KILLI SHAHOZAI 30011272, QUETTA.", "account": "09427900599303", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20341144", "name": "HUSSAIN AHMED", "fatherName": "MUHAMMAD  AMIN", "designation": "EXECUTIVE ENGINEER", "bps": "18", "department": "Public Health Engineering", "cnic": "", "dob": "01.05.1980", "joiningDate": "31.05.2008", "basicPay": "112,260.00", "grossPay": "207,894.00", "netPay": "176,708.00", "bank": "ALLIED BANK LIMITED, 250691 LORALAI LORALAI , LORALAI", "account": "0010003798920010", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20395987", "name": "SALMAN BASHIR", "fatherName": "BASHIR AHMED", "designation": "Draftsman 80000010-Health Department", "bps": "11", "department": "Public Health Engineering", "cnic": "", "dob": "01.11.1999", "joiningDate": "05.03.2024", "basicPay": "21,270.00", "grossPay": "48,033.00", "netPay": "43,618.00", "bank": "MCB BANK LIMITED,  241361 MAIN BR: TURBAT 30124431 MAIN BR: TURBAT 30124431,", "account": "1548357331008148", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20403140", "name": "SAAD   ULLAH", "fatherName": "LATE AMANULLAH", "designation": "Naib Qasid", "bps": "01", "department": "Public Health Engineering", "cnic": "", "dob": "26.12.1991", "joiningDate": "07.03.2024", "basicPay": "13,980.00", "grossPay": "30,296.00", "netPay": "27,881.00", "bank": "BANK ALFALAH LIMITED, 090060 JINNAH ROAD 30011238 JINNAH ROAD 30011238, QUETTA", "account": "0060001009157653", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20404620", "name": "GHULAM UD DIN", "fatherName": "ALLAH DAD", "designation": "DRIVER", "bps": "04", "department": "Public Health Engineering", "cnic": "", "dob": "15.05.1994", "joiningDate": "18.07.2023", "basicPay": "16,010.00", "grossPay": "38,313.00", "netPay": "37,066.00", "bank": "UNITED BANK LIMITED, 211402 ZHOB 30119932 ZHOB 30119932, ZHOB", "account": "0109000298312258", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20405115", "name": "BIBI  ALIA", "fatherName": "SAEED ZAMAN", "designation": "BARKANDAZ", "bps": "01", "department": "Public Health Engineering", "cnic": "", "dob": "02.05.1985", "joiningDate": "12.03.2024", "basicPay": "14,410.00", "grossPay": "34,271.00", "netPay": "31,856.00", "bank": "FIRST WOMEN BANK LIMITED, 300004 SHAHRA-E-IQBAL SHAHRA-E-IQBAL, QUETTA", "account": "004025931720000", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20413036", "name": "MUHAMMAD ALYAS", "fatherName": "LATE MIR KHAN MUHAMMAD", "designation": "CLEANER", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "20.08.2002", "joiningDate": "15.03.2024", "basicPay": "14,310.00", "grossPay": "29,255.00", "netPay": "26,338.00", "bank": "UNITED BANK LIMITED, 211101 BISE SAMUNGLI ROAD BISE SAMUNGLI ROAD, QUETTA", "account": "0109000309816605", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20416778", "name": "ATTA  MUHAMMAD", "fatherName": "LATE GHAZI KHAN", "designation": "CHOWKIDAR", "bps": "01", "department": "Public Health Engineering", "cnic": "", "dob": "03.02.1981", "joiningDate": "07.04.2024", "basicPay": "13,980.00", "grossPay": "32,421.00", "netPay": "30,006.00", "bank": "ALLIED BANK LIMITED, 250777 SATELLITE TOWN QUETTA SATELLITE TOWN QUETTA,", "account": "0010063049720011", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}, {"id": "20420359", "name": "ABDUL MATEEN", "fatherName": "LATE BAJAR KHAN", "designation": "CLEANER", "bps": "02", "department": "Public Health Engineering", "cnic": "", "dob": "01.01.2000", "joiningDate": "03.04.2024", "basicPay": "13,820.00", "grossPay": "34,408.00", "netPay": "31,496.00", "bank": "NATIONAL BANK OF PAKISTAN, 231040 MUSA KHAIL 30036726 MUSA KHAIL 30036726, MUSA", "account": "1040004253646038", "status": "Active", "salaryStopped": false, "photo": null, "cnicFront": null, "cnicBack": null}];
let users = [{username:"aimalkhan", password:"admin123", role:"admin", name:"Aimal Khan Jaffer", linkedId:null}];
let currentUser = null;
let selectedEmp = null;
let photoData = '', cnicFrontData = '', cnicBackData = '';

// Service Worker Registration
if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js');
}

window.onload = () => {
    loadData();
    renderEmployees();
    updateStats();
    updateMissingStats();
};

function saveData() {
    localStorage.setItem('phe_employees', JSON.stringify(employees));
    localStorage.setItem('phe_users', JSON.stringify(users));
}

function loadData() {
    let e = localStorage.getItem('phe_employees');
    if (e) employees = JSON.parse(e);
    let u = localStorage.getItem('phe_users');
    if (u) users = JSON.parse(u);
    let l = localStorage.getItem('phe_logo');
    if (l) document.getElementById('appLogoDisplay').innerHTML = '<img src="'+l+'" style="width:100%;height:100%;object-fit:cover;">';
}

function handleLogin(e) {
    e.preventDefault();
    let u = document.getElementById('loginUsername').value;
    let p = document.getElementById('loginPassword').value;
    let user = users.find(x => x.username === u && x.password === p);
    if (user) {
        currentUser = user;
        document.getElementById('loginScreen').style.display = 'none';
        document.getElementById('dashboard').style.display = 'block';
    } else {
        document.getElementById('loginError').style.display = 'block';
    }
    return false;
}

function toggleSidebar() {
    document.getElementById('sidebar').classList.toggle('active');
    document.getElementById('sidebarOverlay').style.display = document.getElementById('sidebar').classList.contains('active') ? 'block' : 'none';
}

function showPage(page) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
    document.getElementById('page-' + page).classList.add('active');
    let navId = 'nav-' + page;
    if (document.getElementById(navId)) document.getElementById(navId).classList.add('active');
    document.getElementById('pageTitle').textContent = page.charAt(0).toUpperCase() + page.slice(1).replace('-', ' ');
    toggleSidebar();

    if (page === 'employees') renderEmployees();
    if (page === 'users') renderUsers();
    if (page === 'missing') { updateMissingStats(); renderMissingData('all'); }
    if (page === 'users' || page === 'settings') setupEmpSelect();
}

function showTab(tab) {
    document.querySelectorAll('[id^="tab-"]').forEach(t => t.style.display = 'none');
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    document.getElementById('tab-' + tab).style.display = 'block';
    event.target.classList.add('active');
}

function uploadLogo(input) {
    if (input.files && input.files[0]) {
        let r = new FileReader();
        r.onload = (e) => {
            localStorage.setItem('phe_logo', e.target.result);
            document.getElementById('appLogoDisplay').innerHTML = '<img src="'+e.target.result+'" style="width:100%;height:100%;object-fit:cover;">';
        };
        r.readAsDataURL(input.files[0]);
    }
}

function uploadAdminPhoto(input) {
    if (input.files && input.files[0]) {
        let r = new FileReader();
        r.onload = (e) => {
            document.getElementById('adminAvatar').innerHTML = '<img src="'+e.target.result+'" style="width:100%;height:100%;object-fit:cover;">';
        };
        r.readAsDataURL(input.files[0]);
    }
}

function previewPhoto(input) {
    if (input.files && input.files[0]) {
        let r = new FileReader();
        r.onload = (e) => {
            photoData = e.target.result;
            document.getElementById('photoPreview').src = e.target.result;
            document.getElementById('photoPreview').style.display = 'block';
        };
        r.readAsDataURL(input.files[0]);
    }
}

function previewCnic(input, side) {
    if (input.files && input.files[0]) {
        let r = new FileReader();
        r.onload = (e) => {
            if (side === 'front') {
                cnicFrontData = e.target.result;
                document.getElementById('cnicFrontPreview').src = e.target.result;
                document.getElementById('cnicFrontPreview').style.display = 'block';
            } else {
                cnicBackData = e.target.result;
                document.getElementById('cnicBackPreview').src = e.target.result;
                document.getElementById('cnicBackPreview').style.display = 'block';
            }
        };
        r.readAsDataURL(input.files[0]);
    }
}

function renderEmployees() {
    let s = document.getElementById('searchInput').value.toLowerCase();
    let f = document.getElementById('filterStatus').value;
    let list = document.getElementById('employeesList');

    let filtered = employees.filter(e => {
        let match = e.name.toLowerCase().includes(s) || e.id.toString().includes(s);
        let stat = !f || (f === 'Stopped' ? e.salaryStopped : !e.salaryStopped);
        return match && stat;
    });

    list.innerHTML = filtered.map(e => `
        <div class="employee-card" onclick="viewEmployee('${e.id}')" style="${e.salaryStopped ? 'opacity:0.6;background:#f3f4f6' : ''}">
            <div class="employee-avatar">${e.photo ? '<img src="'+e.photo+'">' : e.name.charAt(0)}</div>
            <div class="employee-info">
                <div class="employee-name">${e.name}</div>
                <div class="employee-meta">ID: ${e.id} | ${e.designation}</div>
            </div>
            <span class="badge ${e.salaryStopped ? 'badge-warning' : 'badge-success'}">${e.salaryStopped ? 'Stopped' : 'Active'}</span>
        </div>
    `).join('');
}

function saveEmployee(e) {
    e.preventDefault();
    let emp = {
        id: document.getElementById('empId').value,
        name: document.getElementById('empName').value,
        fatherName: document.getElementById('empFather').value,
        cnic: document.getElementById('empCnic').value,
        designation: document.getElementById('empDesig').value,
        bps: document.getElementById('empBps').value,
        basicPay: document.getElementById('empBasic').value,
        grossPay: document.getElementById('empGross').value,
        netPay: document.getElementById('empNet').value,
        account: document.getElementById('empAccount').value,
        photo: photoData,
        cnicFront: cnicFrontData,
        cnicBack: cnicBackData,
        salaryStopped: !document.getElementById('salaryToggle').classList.contains('active'),
        status: 'Active'
    };

    let idx = employees.findIndex(x => x.id === emp.id);
    if (idx >= 0) employees[idx] = emp;
    else employees.push(emp);

    saveData();
    updateStats();
    updateMissingStats();
    alert('Employee saved!');
    showPage('employees');
    photoData = ''; cnicFrontData = ''; cnicBackData = '';
    return false;
}

function viewEmployee(id) {
    let e = employees.find(x => x.id === id);
    if (!e) return;
    let html = `
        <div style="display:flex;gap:20px;margin-bottom:20px">
            <div style="width:100px;height:100px;background:var(--secondary);border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-size:2rem;overflow:hidden">
                ${e.photo ? '<img src="'+e.photo+'" style="width:100%;height:100%;object-fit:cover">' : e.name.charAt(0)}
            </div>
            <div>
                <h2 style="color:var(--primary)">${e.name}</h2>
                <p>${e.designation} | BPS-${e.bps}</p>
                <span class="badge ${e.salaryStopped ? 'badge-warning' : 'badge-success'}">${e.salaryStopped ? 'Salary Stopped' : 'Active'}</span>
            </div>
        </div>
        <div style="margin-bottom:10px"><strong>ID:</strong> ${e.id}</div>
        <div style="margin-bottom:10px"><strong>Father:</strong> ${e.fatherName}</div>
        <div style="margin-bottom:10px"><strong>CNIC:</strong> ${e.cnic || 'N/A'}</div>
        <div style="margin-bottom:10px"><strong>Net Pay:</strong> Rs. ${e.netPay}</div>
        <div style="margin-bottom:10px"><strong>Bank:</strong> ${e.account || 'N/A'}</div>
        ${e.cnicFront ? '<div style="margin-bottom:10px"><strong>CNIC Front:</strong><br><img src="'+e.cnicFront+'" style="max-width:200px;margin-top:10px;border-radius:8px"></div>' : ''}
        <div style="display:flex;gap:10px;margin-top:20px">
            <button class="action-btn" onclick="editEmp('${e.id}')">Edit</button>
            <button class="action-btn ${e.salaryStopped ? 'btn-success' : 'btn-warning'}" onclick="toggleEmpSalary('${e.id}')">${e.salaryStopped ? 'Restore' : 'Stop'} Salary</button>
            <button class="action-btn btn-danger" onclick="deleteEmp('${e.id}')">Delete</button>
        </div>
    `;
    document.getElementById('detailBody').innerHTML = html;
    showModal('detailModal');
}

function editEmp(id) {
    closeModal('detailModal');
    showPage('add');
    let e = employees.find(x => x.id === id);
    document.getElementById('empId').value = e.id || '';
    document.getElementById('empName').value = e.name || '';
    document.getElementById('empFather').value = e.fatherName || '';
    document.getElementById('empCnic').value = e.cnic || '';
    document.getElementById('empDesig').value = e.designation || '';
    document.getElementById('empBps').value = e.bps || '01';
    document.getElementById('empBasic').value = e.basicPay || '';
    document.getElementById('empGross').value = e.grossPay || '';
    document.getElementById('empNet').value = e.netPay || '';
    document.getElementById('empAccount').value = e.account || '';
    photoData = e.photo || '';
    cnicFrontData = e.cnicFront || '';
    cnicBackData = e.cnicBack || '';
}

function toggleEmpSalary(id) {
    let e = employees.find(x => x.id === id);
    e.salaryStopped = !e.salaryStopped;
    saveData();
    updateStats();
    viewEmployee(id);
    renderEmployees();
}

function deleteEmp(id) {
    if (confirm('Delete employee?')) {
        employees = employees.filter(x => x.id !== id);
        saveData();
        updateStats();
        updateMissingStats();
        closeModal('detailModal');
        renderEmployees();
    }
}

// MISSING DATA REPORT FUNCTIONS
function updateMissingStats() {
    let missingName = employees.filter(e => !e.name || e.name.trim() === '').length;
    let missingFather = employees.filter(e => !e.fatherName || e.fatherName.trim() === '').length;
    let missingCnic = employees.filter(e => !e.cnic || e.cnic.trim() === '').length;
    let missingPhoto = employees.filter(e => !e.photo).length;
    let missingBank = employees.filter(e => !e.account || e.account.trim() === '').length;

    document.getElementById('missingNameCount').textContent = missingName + missingFather;
    document.getElementById('missingCnicCount').textContent = missingCnic;
    document.getElementById('missingPhotoCount').textContent = missingPhoto;
    document.getElementById('missingBankCount').textContent = missingBank;
}

function renderMissingData(filter) {
    let list = document.getElementById('missingDataList');
    let filtered = employees.filter(e => {
        if (filter === 'all') return !e.name || !e.fatherName || !e.cnic || !e.photo || !e.account;
        if (filter === 'name') return !e.name || !e.fatherName;
        if (filter === 'cnic') return !e.cnic;
        if (filter === 'photo') return !e.photo;
        return false;
    });

    if (filtered.length === 0) {
        list.innerHTML = '<div style="text-align:center;padding:40px;color:var(--success)"><h3>? All Data Complete!</h3></div>';
        return;
    }

    list.innerHTML = '<h3 style="margin-bottom:15px">Found ' + filtered.length + ' records with issues:</h3>' + 
        filtered.map(e => {
            let missing = [];
            if (!e.name) missing.push('? Name');
            if (!e.fatherName) missing.push('? Father');
            if (!e.cnic) missing.push('? CNIC');
            if (!e.photo) missing.push('? Photo');
            if (!e.account) missing.push('? Bank');

            return `
            <div style="background:#fef2f2;border:2px solid #fecaca;border-radius:15px;padding:20px;margin-bottom:15px;">
                <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:15px;">
                    <div style="display:flex;gap:15px;">
                        <div style="width:60px;height:60px;background:#fee2e2;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.5rem;color:var(--danger)">??</div>
                        <div>
                            <h4 style="color:var(--danger);margin-bottom:5px">${e.name || 'NO NAME'} (${e.id})</h4>
                            <p style="color:#6b7280;font-size:0.9rem">${e.designation || 'No Designation'}</p>
                        </div>
                    </div>
                    <button class="action-btn" onclick="quickFix('${e.id}')">?? Fix</button>
                </div>
                <div style="background:white;padding:15px;border-radius:10px;">
                    <p style="font-weight:600;color:var(--danger);margin-bottom:10px">Missing:</p>
                    <div style="display:flex;flex-wrap:wrap;gap:10px">
                        ${missing.map(m => `<span style="background:#fee2e2;color:var(--danger);padding:5px 12px;border-radius:20px;font-size:0.85rem;font-weight:600">${m}</span>`).join('')}
                    </div>
                </div>
            </div>`;
        }).join('');
}

function filterMissing(type) {
    renderMissingData(type);
}

function quickFix(id) {
    let emp = employees.find(e => e.id === id);
    if (emp) {
        editEmp(id);
        let missing = [];
        if (!emp.name) missing.push('Name');
        if (!emp.fatherName) missing.push('Father Name');
        if (!emp.cnic) missing.push('CNIC');
        if (!emp.photo) missing.push('Photo');
        if (!emp.account) missing.push('Bank Account');
        setTimeout(() => alert('Please fill: ' + missing.join(', ')), 300);
    }
}

function exportMissingReport() {
    let missing = employees.filter(e => !e.name || !e.fatherName || !e.cnic || !e.photo || !e.account);
    let csv = "ID,Name,Father,CNIC,Photo,Bank,Designation,Status\n";
    missing.forEach(e => {
        csv += `${e.id},${e.name || 'MISSING'},${e.fatherName || 'MISSING'},${e.cnic || 'NO'},${e.photo ? 'YES' : 'NO'},${e.account || 'NO'},${e.designation || 'NO'},${e.salaryStopped ? 'STOPPED' : 'ACTIVE'}\n`;
    });
    let data = "data:text/csv;charset=utf-8," + encodeURIComponent(csv);
    let a = document.createElement('a'); a.setAttribute("href", data); a.setAttribute("download", "missing_data_report.csv"); a.click();
}

// STOP SALARY
function findForStop() {
    let s = document.getElementById('stopSearch').value;
    let e = employees.find(x => x.id === s || x.name.toLowerCase().includes(s.toLowerCase()));
    if (e) {
        selectedEmp = e;
        document.getElementById('stopDetails').style.display = 'block';
        document.getElementById('stopEmpCard').innerHTML = `
            <div class="employee-avatar">${e.name.charAt(0)}</div>
            <div class="employee-info">
                <div class="employee-name">${e.name}</div>
                <div class="employee-meta">ID: ${e.id} | ${e.designation}</div>
            </div>
            <span class="badge ${e.salaryStopped ? 'badge-warning' : 'badge-success'}">${e.salaryStopped ? 'Stopped' : 'Active'}</span>
        `;
    } else alert('Employee not found');
}

function executeStop() {
    if (!selectedEmp) return;
    let a = document.getElementById('stopAction').value;
    if (a === 'stop') selectedEmp.salaryStopped = true;
    if (a === 'restore') selectedEmp.salaryStopped = false;
    if (a === 'mark') selectedEmp.status = 'Leaving';
    saveData();
    updateStats();
    alert('Done!');
    findForStop();
}

// USERS
function renderUsers() {
    let list = document.getElementById('usersList');
    list.innerHTML = users.map(u => `
        <div class="employee-card">
            <div class="employee-avatar" style="background:${u.role==='admin'?'var(--danger)':'var(--success)'}">${u.username.charAt(0).toUpperCase()}</div>
            <div class="employee-info">
                <div class="employee-name">${u.name} (${u.username})</div>
                <div class="employee-meta">Role: ${u.role}</div>
            </div>
            ${u.username !== 'aimalkhan' ? '<button class="action-btn btn-danger" onclick="deleteUser(\''+u.username+'\')">Delete</button>' : ''}
        </div>
    `).join('');
}

function setupEmpSelect() {
    let s = document.getElementById('userEmpId');
    if (s) s.innerHTML = '<option value="">Select Employee</option>' + employees.map(e => '<option value="'+e.id+'">'+e.name+' ('+e.id+')</option>').join('');
}

function createUser(e) {
    e.preventDefault();
    let u = {
        username: document.getElementById('newUsername').value,
        password: document.getElementById('newPassword').value,
        role: document.getElementById('newRole').value,
        linkedId: document.getElementById('userEmpId').value,
        name: document.getElementById('newUsername').value
    };
    if (users.find(x => x.username === u.username)) { alert('Username exists'); return false; }
    let emp = employees.find(x => x.id === u.linkedId);
    if (emp) u.name = emp.name;
    users.push(u);
    saveData();
    alert('User created!');
    closeModal('createUserModal');
    renderUsers();
    return false;
}

function deleteUser(username) {
    if (confirm('Delete user?')) {
        users = users.filter(u => u.username !== username);
        saveData();
        renderUsers();
    }
}

function showModal(id) {
    if (id === 'createUserModal') setupEmpSelect();
    document.getElementById(id).style.display = 'flex';
}

function closeModal(id) {
    document.getElementById(id).style.display = 'none';
}

function updateAppLogo(input) {
    if (input.files && input.files[0]) {
        let r = new FileReader();
        r.onload = (e) => { localStorage.setItem('phe_logo', e.target.result); alert('Logo updated!'); };
        r.readAsDataURL(input.files[0]);
    }
}

function saveSettings() {
    document.getElementById('adminName').textContent = document.getElementById('setAdminName').value;
    alert('Saved!');
}

function updateStats() {
    document.getElementById('statTotal').textContent = employees.length;
    document.getElementById('statActive').textContent = employees.filter(e => !e.salaryStopped).length;
    document.getElementById('statStopped').textContent = employees.filter(e => e.salaryStopped).length;
    let total = employees.reduce((sum, e) => sum + parseFloat((e.netPay || '0').replace(/,/g, '')), 0);
    document.getElementById('statPayroll').textContent = (total / 1000000).toFixed(2);
}

function exportJSON() {
    let d = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(employees));
    let a = document.createElement('a'); a.setAttribute("href", d); a.setAttribute("download", "phe_employees.json"); a.click();
}

function exportCSV() {
    let c = "ID,Name,Father,Designation,BPS,Status,NetPay\n";
    employees.forEach(e => { c += `${e.id},${e.name},${e.fatherName},${e.designation},${e.bps},${e.salaryStopped?'Stopped':'Active'},${e.netPay}\n`; });
    let d = "data:text/csv;charset=utf-8," + encodeURIComponent(c);
    let a = document.createElement('a'); a.setAttribute("href", d); a.setAttribute("download", "phe_employees.csv"); a.click();
}

function exportData() { exportJSON(); }

function clearAllData() {
    if (confirm('?? DELETE ALL DATA?')) {
        localStorage.clear();
        location.reload();
    }
}

window.onclick = (e) => { if (e.target.classList.contains('modal')) e.target.style.display = 'none'; };
</script>
</body>

</html>
